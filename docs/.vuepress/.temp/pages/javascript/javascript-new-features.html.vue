<template><div><h1 id="ecmascript新特性" tabindex="-1"><a class="header-anchor" href="#ecmascript新特性" aria-hidden="true">#</a> ECMAScript新特性</h1>
<h2 id="es2015" tabindex="-1"><a class="header-anchor" href="#es2015" aria-hidden="true">#</a> ES2015</h2>
<h3 id="for-of循环和iterator" tabindex="-1"><a class="header-anchor" href="#for-of循环和iterator" aria-hidden="true">#</a> for...of循环和iterator</h3>
<p>遍历器(Iterator)提供了一个统一的,简便的访问接口,为各种不同的数据结构提供了统一的访问机制。任何数据只要部署了
Iterator接口,就可以完成遍历操作。Iterator接口主要供for...of消费。</p>
<p>原生具备Iterator接口的数据结构</p>
<ol>
<li>Array</li>
<li>Map</li>
<li>Set</li>
<li>String</li>
<li>arguments对象</li>
<li>NodeList对象</li>
</ol>
<p>对象(Object)没有默认部署的Iterator接口,是因为对象的哪个属性先遍历,哪个属性后遍历是不确定的。需要
开发者手动指定。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// array-like对象 调用数组的 Symbol.iterator方法</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> iterator </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  length: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator]: </span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.prototype[</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator]</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> iterator){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item) </span><span style="color: #88846F">// a b c</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>普通对象部署数组的遍历器方法没有效果</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> iterable </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  a: </span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  b: </span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  c: </span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  length: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator]: </span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.prototype[</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator]</span></span>
<span class="line"><span style="color: #F8F8F2">};</span></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> iterable) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item); </span><span style="color: #88846F">// undefined, undefined, undefined</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>
<p><strong>判断一个数据结构是否具有遍历器方法.</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> set </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">().</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;1&#39;</span><span style="color: #F8F8F2">).</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;2&#39;</span><span style="color: #F8F8F2">).</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;3&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> map </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">().</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">({name:</span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">},{name:</span><span style="color: #E6DB74">&#39;world&#39;</span><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array_like </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;world&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;你好&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  length: </span><span style="color: #AE81FF">3</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> string </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello world&#39;</span><span style="color: #F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">data</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> data[</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator] </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;function&#39;</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(set)) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(map)) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(array)) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(array_like))  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(string))  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">has_iterator</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F">arguments</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>给一个普通对象添加遍历器接口,使其能够被for...of遍历</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> player </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  firstName: </span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  lastName: </span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  age: </span><span style="color: #E6DB74">&#39;30&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.iterator]: </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> _this </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> keys </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> nextId </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #A6E22E">next</span><span style="color: #F8F8F2">:</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> nextId </span><span style="color: #F92672">&lt;</span><span style="color: #F8F8F2"> keys.length </span><span style="color: #F92672">?</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">          value: _this[keys[nextId</span><span style="color: #F92672">++</span><span style="color: #F8F8F2">]],</span></span>
<span class="line"><span style="color: #F8F8F2">          done: </span><span style="color: #AE81FF">false</span></span>
<span class="line"><span style="color: #F8F8F2">        } </span><span style="color: #F92672">:</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">          value: </span><span style="color: #AE81FF">undefined</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">          done: </span><span style="color: #AE81FF">true</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">      }</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> player){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item) </span><span style="color: #88846F">// kyrie, irving, 30</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol" aria-hidden="true">#</a> Symbol</h3>
<ol>
<li>Symbol表示独一无二的值,它是JavaScript语言的第七种数据类型。</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>消除魔术字符串(在代码之中多次出现与代码形成强耦合的某一个具体的字符串或数值)</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">getArea</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">shape</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">options</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> area </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">switch</span><span style="color: #F8F8F2"> (shape) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">case</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;Triangle&#39;</span><span style="color: #F8F8F2">: </span><span style="color: #88846F">// 魔术字符串</span></span>
<span class="line"><span style="color: #F8F8F2">      area </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">.5</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">*</span><span style="color: #F8F8F2"> options.width </span><span style="color: #F92672">*</span><span style="color: #F8F8F2"> options.height;</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">break</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">/* ... more code ... */</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> area;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">getArea</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;Triangle&#39;</span><span style="color: #F8F8F2">, { width: </span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2">, height: </span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2"> }); </span><span style="color: #88846F">// 魔术字符串</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 常用的消除魔术字符串的方法就是把它写成一个常量.</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> shapeType </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  triangle: </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;triangle&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">getArea</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">shape</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">options</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> area </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">switch</span><span style="color: #F8F8F2"> (shape) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">case</span><span style="color: #F8F8F2"> shapeType.triangle:</span></span>
<span class="line"><span style="color: #F8F8F2">      area </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">.5</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">*</span><span style="color: #F8F8F2"> options.width </span><span style="color: #F92672">*</span><span style="color: #F8F8F2"> options.height;</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">break</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> area;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">getArea</span><span style="color: #F8F8F2">(shapeType.triangle, { width: </span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2">, height: </span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2"> });</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>Symbol作为属性名遍历对象的时候,不会被for...in Object.keys() Object.getOwnPropertyNames() JSON.stringify()返回</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> player </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;first&#39;</span><span style="color: #F8F8F2">)]: </span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;last&#39;</span><span style="color: #F8F8F2">)]: </span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;age&#39;</span><span style="color: #F8F8F2">)]: </span><span style="color: #AE81FF">30</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  team:</span><span style="color: #E6DB74">&#39;nets&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> player){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;for--in-key:&#39;</span><span style="color: #F8F8F2">, key)  </span><span style="color: #88846F">// team</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">(player)){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;for-of-key:&#39;</span><span style="color: #F8F8F2">, key) </span><span style="color: #88846F">// team</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertyNames</span><span style="color: #F8F8F2">(player) </span><span style="color: #88846F">// [&#39;team&#39;]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertySymbols</span><span style="color: #F8F8F2">(player); </span></span>
<span class="line"><span style="color: #88846F">//[Symbol(first),Symbol(last),Symbol(age)]</span></span>
<span class="line"><span style="color: #66D9EF">JSON</span><span style="color: #F8F8F2">.</span><span style="color: #66D9EF">stringify</span><span style="color: #F8F8F2">(player) </span><span style="color: #88846F">// {&quot;team&quot;:&quot;nets&quot;}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>Symbol.for() / Symbol.keyFor()</li>
</ol>
<p>Symbol.for()不会每次调用就返回一个新的 Symbol 类型的值，而是会先检查给定的key是否已经存在，如果不存在才会新建一个值。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">for</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;key&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">for</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;key&#39;</span><span style="color: #F8F8F2">);  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4">
<li>Symbol.toStringTag</li>
</ol>
<p>Symbol.toStringTag 是一个内置symbol,它通常作为对象的属性键使用,对应的属性值应该为字符串类型,通常只有内置的Object.prototype.toString()
方法会读取这个标签并把它包含在自己的返回值里。</p>
<div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>许多内置的JavaScript对象类型即使没有toStringTag属性,也能被toString()方法识别并返回特定的类型。</p>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">false</span><span style="color: #F8F8F2">)           </span><span style="color: #88846F">// [object Boolean]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">)           </span><span style="color: #88846F">// [object String]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)               </span><span style="color: #88846F">// [object Number]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">([</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">])         </span><span style="color: #88846F">// [object Array]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">({name:</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">})  </span><span style="color: #88846F">// [object Object]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">null</span><span style="color: #F8F8F2">)            </span><span style="color: #88846F">// [object Null]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">undefined</span><span style="color: #F8F8F2">)       </span><span style="color: #88846F">// [object Undefined]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(){})    </span><span style="color: #88846F">// [object Function]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Date</span><span style="color: #F8F8F2">())      </span><span style="color: #88846F">// [object Date]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// ------ 引擎为它们设置好了toStringTag标签 ---------</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">())       </span><span style="color: #88846F">// [object Map]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">())       </span><span style="color: #88846F">// [object Set]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">*</span><span style="color: #A6E22E">m</span><span style="color: #F8F8F2">(){}) </span><span style="color: #88846F">// [object GeneratorFunction]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">//-------------------------------------------------</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> d1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">(d1,</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.toStringTag,{</span></span>
<span class="line"><span style="color: #F8F8F2">  value:</span><span style="color: #E6DB74">&#39;hello world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.prototype.toString.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">(d1)             </span><span style="color: #88846F">// [object hello world]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>在对webpack打包后的文件分析中,__ webpack_require __.r方法中, 使用了这个属性</p>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  __webpack_require__.</span><span style="color: #A6E22E">r</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> (</span><span style="color: #FD971F; font-style: italic">exports</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> (</span><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&quot;undefined&quot;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">&amp;&amp;</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.toStringTag) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">// 调用 Object.prototype.toString.call(exports) 会返回Module</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">exports</span><span style="color: #F8F8F2">, </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">.toStringTag, { value: </span><span style="color: #E6DB74">&quot;Module&quot;</span><span style="color: #F8F8F2"> });</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #88846F">// 给exports 添加一个 _esModule属性 值为true</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">exports</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&quot;__esModule&quot;</span><span style="color: #F8F8F2">, { value: </span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2"> });</span></span>
<span class="line"><span style="color: #F8F8F2">  };</span></span>
<span class="line"><span style="color: #F8F8F2">})();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set和map数据解构" tabindex="-1"><a class="header-anchor" href="#set和map数据解构" aria-hidden="true">#</a> Set和Map数据解构</h3>
<ol>
<li>Set数据解构类似与数组,但数据的成员值都是唯一的,没有重复的值。</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">];</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> s </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #F8F8F2">array.</span><span style="color: #A6E22E">forEach</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">item</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> s.</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(item))  </span><span style="color: #88846F">// Set {1,2,3,4,5}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">size</span><span style="color: #F8F8F2">()                            </span><span style="color: #88846F">// 5</span></span>
<span class="line"><span style="color: #88846F">// 像set加入值的时候,不会发生类型转换, NaN等于自身。</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> s </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(s)                      </span><span style="color: #88846F">// Set {NaN}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// Set的操作方法和遍历方法</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(value)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">delete</span><span style="color: #F8F8F2">(value)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(value)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">clear</span><span style="color: #F8F8F2">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> s </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">([</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;lebron&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;durant&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;wade&#39;</span><span style="color: #F8F8F2">]);</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">add</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;curry&#39;</span><span style="color: #F8F8F2">);    </span><span style="color: #88846F">// Set(5) { &#39;kyrie&#39;, &#39;durant&#39;, &#39;wade&#39;, &#39;james&#39;, &#39;curry&#39; }</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">delete</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// Set(4) { &#39;durant&#39;, &#39;wade&#39;, &#39;james&#39;, &#39;curry&#39; }</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">)     </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2"> </span><span style="color: #88846F">// 可以将set结构转化为数组</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">from</span><span style="color: #F8F8F2">(s)         </span><span style="color: #88846F">// [ &#39;durant&#39;, &#39;wade&#39;, &#39;james&#39;, &#39;curry&#39; ]</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">clear</span><span style="color: #F8F8F2">()             </span><span style="color: #88846F">// Set(0) {}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// 遍历方法:</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">forEach</span><span style="color: #F8F8F2">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> set </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Set</span><span style="color: #F8F8F2">([</span><span style="color: #E6DB74">&#39;red&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;green&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;blue&#39;</span><span style="color: #F8F8F2">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> set.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">()) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item);</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">// red</span></span>
<span class="line"><span style="color: #88846F">// green</span></span>
<span class="line"><span style="color: #88846F">// blue</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> set.</span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">()) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item);</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">// red</span></span>
<span class="line"><span style="color: #88846F">// green</span></span>
<span class="line"><span style="color: #88846F">// blue</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> set.</span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">()) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(item);</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">// [&quot;red&quot;, &quot;red&quot;]</span></span>
<span class="line"><span style="color: #88846F">// [&quot;green&quot;, &quot;green&quot;]</span></span>
<span class="line"><span style="color: #88846F">// [&quot;blue&quot;, &quot;blue&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>Map</li>
</ol>
<p>Map数据结构类似于对象,但是键的范围不限于字符串,各种类型的值(包括对象)都可以当作键。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> m1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {p:</span><span style="color: #E6DB74">&#39;Hello World!&#39;</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">m1.</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">(o,</span><span style="color: #E6DB74">&#39;content&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;m1:&#39;</span><span style="color: #F8F8F2">, m1)  </span><span style="color: #88846F">// Map(1) { { p: &#39;Hello World!&#39; } =&gt; &#39;content&#39; }</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(m1.</span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">(o))  </span><span style="color: #88846F">// content</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(m1.</span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(o))  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Map也可以接受一个数组作为参数,该数组的成员是一个个表示键值对的数组</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> map </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">([</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;name&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;张三&#39;</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;title&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;Author&#39;</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">]);</span></span>
<span class="line"><span style="color: #88846F">//Map(2) { &#39;name&#39; =&gt; &#39;张三&#39;, &#39;title&#39; =&gt; &#39;Author&#39; }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span></span>
<span class="line"><span style="color: #F8F8F2">  [{firstName:</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">}, {lastName:</span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">}],</span></span>
<span class="line"><span style="color: #F8F8F2">  [{firstName:</span><span style="color: #E6DB74">&#39;lebron&#39;</span><span style="color: #F8F8F2">}, {lastName:</span><span style="color: #E6DB74">&#39;james&#39;</span><span style="color: #F8F8F2">}]</span></span>
<span class="line"><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">(array))</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">Map(2) {</span></span>
<span class="line"><span style="color: #88846F">  { firstName: &#39;kyrie&#39; } =&gt; { lastName: &#39;irving&#39; },</span></span>
<span class="line"><span style="color: #88846F">  { firstName: &#39;lebron&#39; } =&gt; { lastName: &#39;james&#39; }</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// 实例的属性和操作方法</span></span>
<span class="line"><span style="color: #F8F8F2">size</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">(key,value)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">(key)  </span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(key)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">clear</span><span style="color: #F8F8F2">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> m5 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {firstName:</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,lastName:</span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {firstName:</span><span style="color: #E6DB74">&#39;lebron&#39;</span><span style="color: #F8F8F2">,lastName:</span><span style="color: #E6DB74">&#39;james&#39;</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">(o1,o2)</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">262</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;standard&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;year&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2021</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #88846F">/*m5: Map(3) {</span></span>
<span class="line"><span style="color: #88846F">{firstName:&#39;kyrie&#39;,lastName:&#39;irving&#39;}</span></span>
<span class="line"><span style="color: #88846F">=&gt; {firstName:&#39;lebron&#39;,lastName:&#39;james&#39;}</span></span>
<span class="line"><span style="color: #88846F">262 =&gt; &#39;standard&#39;,</span></span>
<span class="line"><span style="color: #88846F">&#39;year&#39; =&gt; 2021</span></span>
<span class="line"><span style="color: #88846F">}*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">m5.size               </span><span style="color: #88846F">// 3</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">(o1)            </span><span style="color: #88846F">// { firstName: &#39;lebron&#39;, lastName: &#39;james&#39; }</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(o1)            </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">delete</span><span style="color: #F8F8F2">(o1)         </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">m5                    </span><span style="color: #88846F">// Map(2) { 262 =&gt; &#39;standard&#39;, &#39;year&#39; =&gt; 2021 }</span></span>
<span class="line"><span style="color: #F8F8F2">m5.</span><span style="color: #A6E22E">clear</span><span style="color: #F8F8F2">()</span></span>
<span class="line"><span style="color: #F8F8F2">m5                    </span><span style="color: #88846F">// Map(0) {}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol>
<li>Map.prototype.keys()</li>
<li>Map.prototype.values()</li>
<li>Map.prototype.entries()</li>
<li>Map.prototype.forEach()</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> map </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">([</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;F&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;T&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;yes&#39;</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">])</span></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> map.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">()) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;key:&#39;</span><span style="color: #F8F8F2">, key)       </span><span style="color: #88846F">// F  T</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> value </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> map.</span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">()){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;value:&#39;</span><span style="color: #F8F8F2">, value)  </span><span style="color: #88846F">// foo yes</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> [key,value] </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> map.</span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">()){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(key,value)        </span><span style="color: #88846F">// F foo  T yes</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数值的扩展" tabindex="-1"><a class="header-anchor" href="#数值的扩展" aria-hidden="true">#</a> 数值的扩展</h3>
<h4 id="number-isfinite-number-isnan" tabindex="-1"><a class="header-anchor" href="#number-isfinite-number-isnan" aria-hidden="true">#</a> Number.isFinite() Number.isNaN()</h4>
<p>Number.isFinite() 分别判断一个数值是否为有限的</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">13</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;123&#39;</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">-</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Number.isNaN() 用来检测一个值是否为NaN</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">13</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;13&#39;</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1</span><span style="color: #F92672">/</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;true&#39;</span><span style="color: #F92672">/</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<ol>
<li>Number.isFinite() 如果参数类型不是数值,isFinite()一律返回false</li>
<li>Number.isNaN()只有对于NaN才返回true，非NaN一律返回false。</li>
</ol>
</div>
<p>与传统的全局方法isFinite() 和 isNaN()的区别在于 传统方法先调用Number() 将非数值转化为数值,再进行判断。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;13&#39;</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF">isFinite</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;13&#39;</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;NaN&#39;</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isNaN</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;NaN&#39;</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="number-parsefloat-和-number-parseint" tabindex="-1"><a class="header-anchor" href="#number-parsefloat-和-number-parseint" aria-hidden="true">#</a> Number.parseFloat() 和 Number.parseInt()</h4>
<p>ES6 将全局方法 parseInt() 和 parseFloat()移植到Number对象上面,行为保持不变。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// ES5的写法</span></span>
<span class="line"><span style="color: #66D9EF">parseInt</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;12.34&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 12</span></span>
<span class="line"><span style="color: #66D9EF">parseFloat</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;123.45#&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 123.45</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// ES6的写法</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseFloat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// Infinity</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseFloat</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">-</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// -Infinity</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseInt</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// NaN</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseInt</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">-</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// NaN</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseInt</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;12.34&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 12</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">parseFloat</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;123.45#&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 123.45</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Number.parseInt 和 Number.parseFloat 对 Infinity -Infinity的处理结果不同</p>
<h3 id="数组的扩展" tabindex="-1"><a class="header-anchor" href="#数组的扩展" aria-hidden="true">#</a> 数组的扩展</h3>
<h4 id="扩展运算符" tabindex="-1"><a class="header-anchor" href="#扩展运算符" aria-hidden="true">#</a> 扩展运算符</h4>
<p>扩展运算符(...) 将一个数组转为用都好分隔的参数序列。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">]) </span><span style="color: #88846F">// 1 2 3</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">([</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">],</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">]) </span><span style="color: #88846F">// [1,2,3,4,5]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">push</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">array</span><span style="color: #F8F8F2">, </span><span style="color: #F92672">...</span><span style="color: #FD971F; font-style: italic">items</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  array.</span><span style="color: #A6E22E">push</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">items)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// ------ 应用 --------</span></span>
<span class="line"><span style="color: #88846F">// 1. 合并数组</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> arr1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">], arr2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">arr1, </span><span style="color: #F92672">...</span><span style="color: #F8F8F2">arr2]  </span><span style="color: #88846F">// [1,2,3,4,5,6]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 2. 与解构赋值结合</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">rest] </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> array</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(rest) </span><span style="color: #88846F">// [2,3,4,5]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 3. 字符串</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #F92672">...</span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">]  </span><span style="color: #88846F">// [&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 4. 实现了Iterator接口的对象</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> nodeList </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> document.</span><span style="color: #A6E22E">querySelectorAll</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;div&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">nodeList]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="array-from" tabindex="-1"><a class="header-anchor" href="#array-from" aria-hidden="true">#</a> Array.from()</h4>
<ol>
<li>Array.from() 方法用于将两类对象转为真正的数组:类似数组的对象(array-like) 和可遍历(iterable)的对象。</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> arrayLike </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">:</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">:</span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">:</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  length:</span><span style="color: #AE81FF">3</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">from</span><span style="color: #F8F8F2">(arrayLike))  </span><span style="color: #88846F">// [a, b, c]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">from</span><span style="color: #F8F8F2">({length:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">})  </span><span style="color: #88846F">// [undefined,undefined,undefined]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>任何有length属性的对象,都可以通过Array.from方法转为数组。</p>
</div>
<ol start="2">
<li>Array.from() 还可以接受第二个参数,作用类似于数组的map方法,用来对每个元素进行处理,将处理后的值放入返回的数组</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">from</span><span style="color: #F8F8F2">({length:</span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2">},() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF">Math</span><span style="color: #F8F8F2">.</span><span style="color: #66D9EF">random</span><span style="color: #F8F8F2">())</span></span>
<span class="line"><span style="color: #88846F">//  [</span></span>
<span class="line"><span style="color: #88846F">//   0.9914679755190499,</span></span>
<span class="line"><span style="color: #88846F">//   0.6476812277611301,</span></span>
<span class="line"><span style="color: #88846F">//   0.7714291351785123,</span></span>
<span class="line"><span style="color: #88846F">//   0.08156054668342261,</span></span>
<span class="line"><span style="color: #88846F">//   0.4137601519196352,</span></span>
<span class="line"><span style="color: #88846F">//   0.5975863812315991,</span></span>
<span class="line"><span style="color: #88846F">//   0.7500119437899317,</span></span>
<span class="line"><span style="color: #88846F">//   0.9440579010811851,</span></span>
<span class="line"><span style="color: #88846F">//   0.5190184961310442,</span></span>
<span class="line"><span style="color: #88846F">//   0.40094030827389204</span></span>
<span class="line"><span style="color: #88846F">// ]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="array-of" tabindex="-1"><a class="header-anchor" href="#array-of" aria-hidden="true">#</a> Array.of()</h4>
<p>Array.of()用于将一组值,转换为数组</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">of</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">11</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">8</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// [3,11,8]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">of</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// [3]</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">of</span><span style="color: #F8F8F2">()  </span><span style="color: #88846F">// []</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="find-findindex" tabindex="-1"><a class="header-anchor" href="#find-findindex" aria-hidden="true">#</a> find()/findIndex()</h4>
<p>找到数组中第一个符合条件的数组成员/成员序号</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">find</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> n </span><span style="color: #F92672">&gt;</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// 4</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">15</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">find</span><span style="color: #F8F8F2">((</span><span style="color: #FD971F; font-style: italic">value</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">index</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">array</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> value </span><span style="color: #F92672">&gt;</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">9</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// 10</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">15</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">findIndex</span><span style="color: #F8F8F2">((</span><span style="color: #FD971F; font-style: italic">value</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">index</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">array</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> value </span><span style="color: #F92672">&gt;</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">9</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 1</span></span>
<span class="line"><span style="color: #88846F">// find和findIndex弥补了indexOf()方法的不足,可以发现NaN.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="entries-keys-values" tabindex="-1"><a class="header-anchor" href="#entries-keys-values" aria-hidden="true">#</a> entries()/keys()/values()</h4>
<p>ES6新增了三个新方法 - entries()/keys()/values(),用于遍历数组,它们都返回一个遍历器对象。可用for...of循环遍历。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">()){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(key)  </span><span style="color: #88846F">// 0 1 2</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> value </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">()){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(value)  </span><span style="color: #88846F">// a b c</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> [key,value] </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">()){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(key, value)</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">  0 a</span></span>
<span class="line"><span style="color: #88846F">  1 b</span></span>
<span class="line"><span style="color: #88846F">  2 c</span></span>
<span class="line"><span style="color: #88846F">  */</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数的扩展" tabindex="-1"><a class="header-anchor" href="#函数的扩展" aria-hidden="true">#</a> 函数的扩展</h3>
<ol>
<li>函数参数默认值与对象的解构赋值结合</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// 设置了解构赋值的默认值,函数参数默认值是控对象</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">({</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">} </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {}){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">([x,y])</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">// 没有设置解构赋值的默认值,默认值不是空对象</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">({</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2">} </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {x:</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">,y:</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">}){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">([x,y])</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">()  </span><span style="color: #88846F">// 0  0</span></span>
<span class="line"><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">()  </span><span style="color: #88846F">// 0  0</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">({x:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,y:</span><span style="color: #AE81FF">8</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// 3  8</span></span>
<span class="line"><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">({x:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,y:</span><span style="color: #AE81FF">8</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// 3  8</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">({x:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// 3  0</span></span>
<span class="line"><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">({x:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// 3  undefined</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">({})   </span><span style="color: #88846F">// 0 0</span></span>
<span class="line"><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">({})   </span><span style="color: #88846F">// undefined undefined</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">m1</span><span style="color: #F8F8F2">({z:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// 0 0</span></span>
<span class="line"><span style="color: #A6E22E">m2</span><span style="color: #F8F8F2">({z:</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">}) </span><span style="color: #88846F">// undefined undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>函数的length</li>
</ol>
<p>返回没有指定默认值的参数个数。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> (</span><span style="color: #FD971F; font-style: italic">a</span><span style="color: #F8F8F2">){}).length </span><span style="color: #88846F">// 1</span></span>
<span class="line"><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> (</span><span style="color: #FD971F; font-style: italic">a</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">){}).length </span><span style="color: #88846F">// 0</span></span>
<span class="line"><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> (</span><span style="color: #FD971F; font-style: italic">a</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">b</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">c</span><span style="color: #F92672">=</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">){}).length </span><span style="color: #88846F">// 2</span></span>
<span class="line"><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> (</span><span style="color: #F92672">...</span><span style="color: #FD971F; font-style: italic">args</span><span style="color: #F8F8F2">){}).length </span><span style="color: #88846F">// 0</span></span>
<span class="line"><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> (</span><span style="color: #FD971F; font-style: italic">a</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">b</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">c</span><span style="color: #F8F8F2">){}).length </span><span style="color: #88846F">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>如果设置了默认值的参数不是尾参数,那么length属性也不再计入后面的参数</p>
</div>
<ol start="3">
<li>rest参数</li>
</ol>
<p>rest参数搭配的是一个数组,而arguments对象是一个伪数组。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">sum</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">...</span><span style="color: #FD971F; font-style: italic">args</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">// Array.isArray(args)  // true</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> args.</span><span style="color: #A6E22E">reduce</span><span style="color: #F8F8F2">((</span><span style="color: #FD971F; font-style: italic">prev</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">next</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> prev </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> next, </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">sum</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// 10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>rest参数之后不能再有其他参数,否则会报错。 并且函数的length属性,不包括rest参数</p>
</div>
<ol start="4">
<li>箭头函数的this</li>
</ol>
<p>对于普通函数,内部的this指向函数运行时所在的对象,但是在箭头函数,它没有自己的this对象,内部的this就是定义时上层作用域 中的this.(箭头函数内部的this指向是固定的.而普通函数的this指向是可变的。)</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">var</span><span style="color: #F8F8F2"> id </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">21</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF">setTimeout</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.id)  </span><span style="color: #88846F">// 42</span></span>
<span class="line"><span style="color: #F8F8F2">  },</span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF">setTimeout</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(){</span></span>
<span class="line"><span style="color: #F8F8F2">    console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.id)  </span><span style="color: #88846F">// 21</span></span>
<span class="line"><span style="color: #F8F8F2">  })</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">foo.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">({id:</span><span style="color: #AE81FF">42</span><span style="color: #F8F8F2">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<ol>
<li>箭头函数没有自己的this,也就不能使用call() apply()和bind()方法改变this的指向。</li>
<li>同样arguments super 和new.target在箭头函数中也是不存在的。</li>
<li>不可以使用yield命令, 因此箭头函数不能用作Generator函数。</li>
</ol>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF">setTimeout</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;args&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #F92672">...</span><span style="color: #FD971F">arguments</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">  })</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// [1,2,3]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5">
<li>作用域</li>
</ol>
<p>一旦设置了参数的默认值, 函数进行声明初始化时, 参数会形成一个单独的作用域。等到初始化结束时,这个作用域就会消失。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">var</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> x) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(y)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// 2</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> x) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">2</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(y)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">() </span><span style="color: #88846F">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6">
<li>function.name</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">() {}</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(f.name) </span><span style="color: #88846F">// f</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">baz</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">bar</span><span style="color: #F8F8F2">(){}</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(baz.name) </span><span style="color: #88846F">// bar</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">(</span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Function</span><span style="color: #F8F8F2">).name </span><span style="color: #88846F">// &#39;anonymous&#39;</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(){}</span></span>
<span class="line"><span style="color: #F8F8F2">foo.</span><span style="color: #A6E22E">bind</span><span style="color: #F8F8F2">({}).name   </span><span style="color: #88846F">// bound foo</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="对象的扩展" tabindex="-1"><a class="header-anchor" href="#对象的扩展" aria-hidden="true">#</a> 对象的扩展</h3>
<ol>
<li>允许直接写入变量和函数作为对象的属性和方法</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    x,</span></span>
<span class="line"><span style="color: #F8F8F2">    y</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">// ---- 等同于 -----</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    x: x,</span></span>
<span class="line"><span style="color: #F8F8F2">    y: y</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// ---- 方法也可以简写</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">var</span><span style="color: #F8F8F2"> object </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">method</span><span style="color: #F8F8F2">(){</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>属性名表达式</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> obj </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;bc&#39;</span><span style="color: #F8F8F2">]: </span><span style="color: #AE81FF">123</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> lastWord </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;last word&#39;</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> obj </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #E6DB74">&#39;first word&#39;</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [lastWord]: </span><span style="color: #E6DB74">&#39;world&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;1&#39;</span><span style="color: #F8F8F2">](){</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3">
<li>Object.is()</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">is</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">is</span><span style="color: #F8F8F2">({},{})    </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">is</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">+</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">,</span><span style="color: #F92672">-</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)    </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">is</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// 模拟一个Object.is 方法</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;is&#39;</span><span style="color: #F8F8F2">, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">value</span><span style="color: #F8F8F2">: </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">x</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">y</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(x </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> y) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">/</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">/</span><span style="color: #F8F8F2"> y</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> x </span><span style="color: #F92672">&amp;&amp;</span><span style="color: #F8F8F2"> y </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> y</span></span>
<span class="line"><span style="color: #F8F8F2">  },</span></span>
<span class="line"><span style="color: #F8F8F2">  configurable: </span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  enumerable: </span><span style="color: #AE81FF">false</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  writable: </span><span style="color: #AE81FF">true</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4">
<li>Object.assign()</li>
</ol>
<p>用于将源对象的所有可枚举属性复制到目标对象。 如果目标对象与源对象有同名属性, 则后面的属性会覆盖前面的属性。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> target </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {a: </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">, b: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> source1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {b: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, c: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> source2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {c: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">assign</span><span style="color: #F8F8F2">(target, source1, source2)</span></span>
<span class="line"><span style="color: #88846F">// {a: 1, b: 2, c: 3}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>Object.assign()复制的属性是有限制的, 只能复制源对象自身的属性(不复制继承属性),也不复制不可枚举属性</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">Player</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">name</span><span style="color: #F8F8F2">){</span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.name </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> name;}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Player</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">skill</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(){console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;crossover&#39;</span><span style="color: #F8F8F2">)}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> kyrie </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">Player</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">kyrie.</span><span style="color: #A6E22E">skill</span><span style="color: #F8F8F2">() </span><span style="color: #88846F">// crossover</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> a </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">assign</span><span style="color: #F8F8F2">({}, kyrie)</span></span>
<span class="line"><span style="color: #F8F8F2">a.</span><span style="color: #A6E22E">skill</span><span style="color: #F8F8F2">()     </span><span style="color: #88846F">// a.skill is not a function</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">assign</span><span style="color: #F8F8F2">({b: </span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">}, </span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">({}, </span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">, {</span></span>
<span class="line"><span style="color: #F8F8F2">    value: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">    enumerable: </span><span style="color: #AE81FF">false</span></span>
<span class="line"><span style="color: #F8F8F2">  })</span></span>
<span class="line"><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #88846F">// {b: &#39;c&#39;}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>
<ol start="5">
<li>Object.getOwnPropertyDescriptor</li>
</ol>
<p>对象的每个属性都有一个描述对象,该方法可以获取对象属性的描述对象。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> obj </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {foo: </span><span style="color: #AE81FF">123</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertyDescriptor</span><span style="color: #F8F8F2">(obj, </span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">configurable: true</span></span>
<span class="line"><span style="color: #88846F">enumerable: true</span></span>
<span class="line"><span style="color: #88846F">value: 123</span></span>
<span class="line"><span style="color: #88846F">writable: true</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES6规定, 所有Class的原型方法都是不可枚举的</p>
<ol start="6">
<li>属性的遍历</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// for...in</span></span>
<span class="line"><span style="color: #88846F">// 循环遍历对象自身的属性和继承的可枚举属性.</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">Player</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">firstName</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">lastName</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.firstName </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> firstName</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.lastName </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> lastName</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">[</span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;fullName&#39;</span><span style="color: #F8F8F2">)] </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.firstName </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.lastName</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Player</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">say</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.firstName </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;-&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.lastName)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> player </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">Player</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">defineProperty</span><span style="color: #F8F8F2">(player, </span><span style="color: #E6DB74">&#39;age&#39;</span><span style="color: #F8F8F2">, {</span></span>
<span class="line"><span style="color: #F8F8F2">  value: </span><span style="color: #AE81FF">30</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  enumerable: </span><span style="color: #AE81FF">false</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> player){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;key&#39;</span><span style="color: #F8F8F2">, key, </span><span style="color: #E6DB74">&#39;value&#39;</span><span style="color: #F8F8F2">, player[key])</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">key firstName value kyrie</span></span>
<span class="line"><span style="color: #88846F">key lastName value irving</span></span>
<span class="line"><span style="color: #88846F">key say value ƒ () {</span></span>
<span class="line"><span style="color: #88846F">  console.log(this.firstName + &#39;-&#39; + this.lastName)</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// Object.keys()  返回一个数组,包含对象自身的所有可枚举属性</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">(player))</span></span>
<span class="line"><span style="color: #88846F">// [&#39;firstName&#39;, &#39;lastName&#39;]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// Object.getOwnPropertyNames(obj)</span></span>
<span class="line"><span style="color: #88846F">// 返回一个数组,包含对象自身所有属性(不包含symbol, 但是包含不可枚举属性</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertyNames</span><span style="color: #F8F8F2">(player))</span></span>
<span class="line"><span style="color: #88846F">// [&#39;firstName&#39;, &#39;lastName&#39;, &#39;age&#39;]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// Object.getOwnPropertySymbols(obj)</span></span>
<span class="line"><span style="color: #88846F">// 返回一个数组, 包含对象自身所有symbol属性</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertySymbols</span><span style="color: #F8F8F2">(player))</span></span>
<span class="line"><span style="color: #88846F">// [Symbol(fullName)]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// Reflect.ownKeys()</span></span>
<span class="line"><span style="color: #88846F">// 返回一个数组, 包含对象自身的所有属性,不管属性名是symbol 还是字符串,无论是否可枚举。</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Reflect</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">ownKeys</span><span style="color: #F8F8F2">(player))</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7">
<li>Object.setPrototypeOf()/Object.getPrototypeOf()</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> a </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  name: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> b </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">getName</span><span style="color: #F8F8F2">(){</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.name</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">setPrototypeOf</span><span style="color: #F8F8F2">(a, b)</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(a.</span><span style="color: #A6E22E">getName</span><span style="color: #F8F8F2">())  </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getPrototypeOf</span><span style="color: #F8F8F2">(a) </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> b) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字符串的扩展" tabindex="-1"><a class="header-anchor" href="#字符串的扩展" aria-hidden="true">#</a> 字符串的扩展</h3>
<h4 id="字符串的遍历器接口" tabindex="-1"><a class="header-anchor" href="#字符串的遍历器接口" aria-hidden="true">#</a> 字符串的遍历器接口</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> s </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(s)  </span><span style="color: #88846F">// &#39;h&#39; &#39;e&#39; &#39;l&#39; &#39;l&#39; &#39;o&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="codepointat-返回一个字符的码点" tabindex="-1"><a class="header-anchor" href="#codepointat-返回一个字符的码点" aria-hidden="true">#</a> codePointAt() 返回一个字符的码点</h4>
<p>该方法能够正确处理4个字节存储的字符, 返回一个字符的码点。</p>
<h4 id="string-fromcharcode" tabindex="-1"><a class="header-anchor" href="#string-fromcharcode" aria-hidden="true">#</a> String.fromCharCode()</h4>
<p>该方法用于Unicode码点返回对应字符串。</p>
<h4 id="includes-startswith-endswith" tabindex="-1"><a class="header-anchor" href="#includes-startswith-endswith" aria-hidden="true">#</a> includes()/startsWith()/endsWith()</h4>
<p>includes()    表示是否找到了匹配点字符串
startsWith()  表示字符串是否在原字符串的头部
endsWith()    表示字符串是否在原字符串的尾部</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> s </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;Hello world!&#39;</span><span style="color: #F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">startsWith</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;Hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">endsWith</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;!&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">s.</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;o&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="repeat" tabindex="-1"><a class="header-anchor" href="#repeat" aria-hidden="true">#</a> repeat()</h4>
<p>repeat方法返回一个新字符串, 表示将原字符串重复n次。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #E6DB74">&#39;x&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">repeat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// &quot;xxx&quot;</span></span>
<span class="line"><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">repeat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// &quot;hellohello&quot;</span></span>
<span class="line"><span style="color: #E6DB74">&#39;na&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">repeat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// &quot;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy" aria-hidden="true">#</a> Proxy</h3>
<p>Proxy 可以理解成，在目标对象之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> proxy </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">(target, handler)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="get" tabindex="-1"><a class="header-anchor" href="#get" aria-hidden="true">#</a> get</h4>
<p>拦截对象属性的读取</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> player </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">({</span></span>
<span class="line"><span style="color: #F8F8F2">  firstName:</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  lastName:</span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  age:</span><span style="color: #AE81FF">30</span></span>
<span class="line"><span style="color: #F8F8F2">}, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">: </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">target</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">prop</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">receiver</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(prop </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;age&#39;</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">18</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> target[prop]</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(player.age) </span><span style="color: #88846F">// 18</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(player.firstName) </span><span style="color: #88846F">// kyrie</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// ---------- get方法可以继承 ---------</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> proto </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">({}, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">get</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">target</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">prop</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">receiver</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;get&#39;</span><span style="color: #F8F8F2">, prop)</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> target[prop]</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> obj </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">create</span><span style="color: #F8F8F2">(proto)</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(obj.foo)  </span><span style="color: #88846F">// get foo</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="set" tabindex="-1"><a class="header-anchor" href="#set" aria-hidden="true">#</a> set</h4>
<p>set方法用于拦截某个属性的赋值操作</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> monster </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  eyeCount: </span><span style="color: #AE81FF">4</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> monster_proxy </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">(monster, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">set</span><span style="color: #F8F8F2">:</span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">obj</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">prop</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">value</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(prop </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;eyeCount&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">&amp;&amp;</span><span style="color: #F8F8F2"> (value</span><span style="color: #F92672">%</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)){</span></span>
<span class="line"><span style="color: #F8F8F2">      console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;Monsters must have an even number of eyes&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span><span style="color: #F92672">else</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">      obj[prop] </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> value</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">true</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #88846F">// monster_proxy.eyeCount = 1  // 无法设置, 必须为偶数</span></span>
<span class="line"><span style="color: #F8F8F2">monster_proxy.eyeCount </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">2</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(monster_proxy.eyeCount) </span><span style="color: #88846F">// 2</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="apply" tabindex="-1"><a class="header-anchor" href="#apply" aria-hidden="true">#</a> apply</h4>
<p>apply方法拦截函数的调用 , call 和 apply操作, 接受三个参数, 分别是目标对象, 目标对象的上下文对象 以及 目标对象的参数</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">sum</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">a</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">b</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">c</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> a </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> b </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> c</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> proxyDoubleSum </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">(sum, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">// target sum</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">// context {times:2}</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">// args [1,2,3]</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">apply</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">target</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">context</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">args</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">target</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">args) </span><span style="color: #F92672">*</span><span style="color: #F8F8F2"> context.times</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">sum</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// 6</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(proxyDoubleSum.</span><span style="color: #A6E22E">call</span><span style="color: #F8F8F2">({times: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">}, </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)) </span><span style="color: #88846F">// 12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="has" tabindex="-1"><a class="header-anchor" href="#has" aria-hidden="true">#</a> has</h4>
<p>has方法用来拦截判断对象是否具有某个属性时生效。典型的操作就是in运算符。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> proxy </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">({</span></span>
<span class="line"><span style="color: #F8F8F2">  _prop: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  prop: </span><span style="color: #E6DB74">&#39;world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">has</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">target</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">key</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">receiver</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(key.</span><span style="color: #A6E22E">startsWith</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;_&#39;</span><span style="color: #F8F8F2">)) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">false</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> target</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;_prop&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">in</span><span style="color: #F8F8F2"> proxy) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #88846F">// has 拦截对 for ... in 遍历不生效。</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="deleteproperty" tabindex="-1"><a class="header-anchor" href="#deleteproperty" aria-hidden="true">#</a> deleteProperty</h4>
<p>deleteProperty方法用于拦截delete操作,如果抛出错误或者返回false,当前属性就无法被delete删除</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> proxy </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Proxy</span><span style="color: #F8F8F2">({</span></span>
<span class="line"><span style="color: #F8F8F2">  _prop: </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  prop: </span><span style="color: #E6DB74">&#39;world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}, {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #A6E22E">deleteProperty</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">target</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">key</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(key.</span><span style="color: #A6E22E">startsWith</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;_&#39;</span><span style="color: #F8F8F2">)) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">false</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Reflect</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">deleteProperty</span><span style="color: #F8F8F2">(target, key)</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;start:&#39;</span><span style="color: #F8F8F2">, proxy)  </span><span style="color: #88846F">// { _prop: &#39;hello&#39;, prop: &#39;world&#39; }</span></span>
<span class="line"><span style="color: #F92672">delete</span><span style="color: #F8F8F2"> proxy._prop</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(proxy)  </span><span style="color: #88846F">// { _prop: &#39;hello&#39;, prop: &#39;world&#39; }</span></span>
<span class="line"><span style="color: #F92672">delete</span><span style="color: #F8F8F2"> proxy.prop</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(proxy)  </span><span style="color: #88846F">//  { _prop: &#39;hello&#39; }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es2016" tabindex="-1"><a class="header-anchor" href="#es2016" aria-hidden="true">#</a> ES2016</h2>
<h3 id="array-prototype-includes" tabindex="-1"><a class="header-anchor" href="#array-prototype-includes" aria-hidden="true">#</a> Array.prototype.includes</h3>
<p>Array.prototype.includes()方法返回一个布尔值,表示数组是否包含给定的值。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">)       </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">)       </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该方法还支持第二个参数, 表示搜索的起始位置。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #F92672">-</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">].</span><span style="color: #A6E22E">includes</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2">)     </span><span style="color: #88846F">// 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="指数运算符" tabindex="-1"><a class="header-anchor" href="#指数运算符" aria-hidden="true">#</a> 指数运算符</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #AE81FF">2</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">**</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">  </span><span style="color: #88846F">//4</span></span>
<span class="line"><span style="color: #AE81FF">2</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">**</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2"> </span><span style="color: #88846F">// 1024</span></span>
<span class="line"><span style="color: #AE81FF">2</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">**</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">**</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2"> </span><span style="color: #88846F">// 512</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>多个指数运算符的时候 先从右边开始计算。</p>
<h2 id="es2017" tabindex="-1"><a class="header-anchor" href="#es2017" aria-hidden="true">#</a> ES2017</h2>
<h3 id="padstart-padend" tabindex="-1"><a class="header-anchor" href="#padstart-padend" aria-hidden="true">#</a> padStart/padEnd</h3>
<p>如果某个字符串不够指定长度,会在头部或尾部补全。padStart()用于头部补全,padEnd()用于尾部补全。
padStart()和padEnd() 一共接收两个参数, 第一个参数是字符串补全生效的最大长度,第二个参数是用来补全的字符串。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;x&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padStart</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;0&#39;</span><span style="color: #F8F8F2">))  </span><span style="color: #88846F">// 0000x</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;x&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padEnd</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;0&#39;</span><span style="color: #F8F8F2">))    </span><span style="color: #88846F">// x0000</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol>
<li>原字符串的长度大于或等于要补全的最大长度,返回原字符串。</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #E6DB74">&#39;xxx&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padStart</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;0&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// xxx</span></span>
<span class="line"><span style="color: #E6DB74">&#39;xxx&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padEnd</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;0&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// xxx</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>用来补全的字符串与原字符串,两者的长度之和超过了最大长度,则会截取超出位数的补全字符串。</li>
</ol>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #E6DB74">&#39;xxx&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padStart</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;1234567&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 12xxx</span></span>
<span class="line"><span style="color: #E6DB74">&#39;xxx&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">padEnd</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;1234567&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// xxx12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">if(原字符串的长度 &gt;= 最大长度) {</span></span>
<span class="line"><span style="color: #88846F">  返回原字符串</span></span>
<span class="line"><span style="color: #88846F">}else{</span></span>
<span class="line"><span style="color: #88846F">  if(补全字符串+原字符串 &gt;= 最大长度 ){</span></span>
<span class="line"><span style="color: #88846F">    原字符串 + 补全字符串 切割0 或 1次</span></span>
<span class="line"><span style="color: #88846F">  }else{</span></span>
<span class="line"><span style="color: #88846F">    原字符串 + 补全字符串重复 并切割1次</span></span>
<span class="line"><span style="color: #88846F">  }</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-getownpropertydescriptors" tabindex="-1"><a class="header-anchor" href="#object-getownpropertydescriptors" aria-hidden="true">#</a> Object.getOwnPropertyDescriptors()</h3>
<p>返回指定对象所有自身属性的描述对象。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  foo: </span><span style="color: #AE81FF">123</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  baz: </span><span style="color: #AE81FF">456</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">getOwnPropertyDescriptors</span><span style="color: #F8F8F2">(o))</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">{</span></span>
<span class="line"><span style="color: #88846F">  baz: {</span></span>
<span class="line"><span style="color: #88846F">    configurable: true</span></span>
<span class="line"><span style="color: #88846F">    enumerable: true</span></span>
<span class="line"><span style="color: #88846F">    value: 456</span></span>
<span class="line"><span style="color: #88846F">    writable: true</span></span>
<span class="line"><span style="color: #88846F">  }</span></span>
<span class="line"><span style="color: #88846F">  foo:{</span></span>
<span class="line"><span style="color: #88846F">    configurable: true</span></span>
<span class="line"><span style="color: #88846F">    enumerable: true</span></span>
<span class="line"><span style="color: #88846F">    value: 123</span></span>
<span class="line"><span style="color: #88846F">    writable: true</span></span>
<span class="line"><span style="color: #88846F">  }</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-values-object-entries" tabindex="-1"><a class="header-anchor" href="#object-values-object-entries" aria-hidden="true">#</a> Object.values/Object.entries()</h3>
<p>返回对象自身可遍历的属性</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> {keys, values, entries} </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> obj </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> { a: </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">, b: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, c: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2"> };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> key </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">keys</span><span style="color: #F8F8F2">(obj)) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(key); </span><span style="color: #88846F">// &#39;a&#39;, &#39;b&#39;, &#39;c&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> value </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">(obj)) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(value); </span><span style="color: #88846F">// 1, 2, 3</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> object </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span><span style="color: #AE81FF">100</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;a&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">: </span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">values</span><span style="color: #F8F8F2">(object) </span><span style="color: #88846F">// [&#39;b&#39;, &#39;c&#39;,  &#39;a&#39;]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> [key, value] </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">(obj)) {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">([key, value]); </span><span style="color: #88846F">// [&#39;a&#39;, 1], [&#39;b&#39;, 2], [&#39;c&#39;, 3]</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="async" tabindex="-1"><a class="header-anchor" href="#async" aria-hidden="true">#</a> async</h3>
<p>ES2017引入了async函数,使得异步操作变得更加方便. async函数返回一个Promise对象, 可以使用then和catch方法添加回调函数。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">async</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">())  </span><span style="color: #88846F">// Promise {&lt;fulfilled&gt;: &#39;hello&#39;}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">().</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">res</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(res)  </span><span style="color: #88846F">// &#39;hello&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">timeout</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">ms</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">resolve</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF">setTimeout</span><span style="color: #F8F8F2">(resolve, ms)</span></span>
<span class="line"><span style="color: #F8F8F2">  })</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F92672">async</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">value</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">ms</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">timeout</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">1000</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(value)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #A6E22E">foo</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">1000</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// 1s后输出hello</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>async函数返回的Promise对象,必须等到内部所有await命令后面的promise对象执行完,才会发生状态改变。</p>
<h4 id="await命令" tabindex="-1"><a class="header-anchor" href="#await命令" aria-hidden="true">#</a> await命令</h4>
<p>正常情况下, await命令后面是一个Promise对象, 返回该对象的结果。如果不是Promise对象,就直接返回对应的值。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">async</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f1</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">123</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">async</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">f2</span><span style="color: #F8F8F2">() {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">resolve</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">123</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #A6E22E">f1</span><span style="color: #F8F8F2">().</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">v</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(v)})  </span><span style="color: #88846F">// 123</span></span>
<span class="line"><span style="color: #A6E22E">f2</span><span style="color: #F8F8F2">().</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">v</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(v)})  </span><span style="color: #88846F">// 123</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="继发-并发" tabindex="-1"><a class="header-anchor" href="#继发-并发" aria-hidden="true">#</a> 继发/并发</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// 如果两个请求前后之间没有关系, 可以同时发起请求 减少请求时间</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> [foo, bar] </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">all</span><span style="color: #F8F8F2">([</span><span style="color: #A6E22E">getFoo</span><span style="color: #F8F8F2">(), </span><span style="color: #A6E22E">getBar</span><span style="color: #F8F8F2">()]);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 继发执行</span></span>
<span class="line"><span style="color: #F92672">async</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">dbFuc</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">db</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> docs </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [{}, {}, {}];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">for</span><span style="color: #F8F8F2"> (</span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> doc </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> docs) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">await</span><span style="color: #F8F8F2"> db.</span><span style="color: #A6E22E">post</span><span style="color: #F8F8F2">(doc);</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es2018" tabindex="-1"><a class="header-anchor" href="#es2018" aria-hidden="true">#</a> ES2018</h2>
<h3 id="对象扩展运算符" tabindex="-1"><a class="header-anchor" href="#对象扩展运算符" aria-hidden="true">#</a> 对象扩展运算符 ...</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> { x, y, </span><span style="color: #F92672">...</span><span style="color: #F8F8F2">z } </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> { x: </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">, y: </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, a: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">, b: </span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2"> };</span></span>
<span class="line"><span style="color: #F8F8F2">x </span><span style="color: #88846F">// 1</span></span>
<span class="line"><span style="color: #F8F8F2">y </span><span style="color: #88846F">// 2</span></span>
<span class="line"><span style="color: #F8F8F2">z </span><span style="color: #88846F">// { a: 3, b: 4 }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>解构赋值必须是最后一个参数,拷贝是浅拷贝,且不会拷贝对象原型上的属性,只会拷贝对象自身的属性。</p>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">create</span><span style="color: #F8F8F2">({m:</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,n:</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #F8F8F2">o.z </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> {m,</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">newObj} </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> o;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(m, newObj);  </span><span style="color: #88846F">// 1  {z:3}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// 解构赋值可以读取原型上的属性,扩展运算符只能复制对象实例的属性。</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> o2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">create</span><span style="color: #F8F8F2">({p:</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #F8F8F2">o2.q </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> { p, q } </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> o2;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(p, q)  </span><span style="color: #88846F">// 1 2</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> z </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> { a: </span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">, b: </span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">z.__proto__.c </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">5</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;z&#39;</span><span style="color: #F8F8F2">, z) </span><span style="color: #88846F">// {a: 3, b: 4}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> { </span><span style="color: #F92672">...</span><span style="color: #F8F8F2">m} </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> z;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(m)  </span><span style="color: #88846F">// {a: 3, b: 4}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> { a, b, c } </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> z;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(a, b, c)  </span><span style="color: #88846F">// 3 4 5</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="promise-prototype-finally" tabindex="-1"><a class="header-anchor" href="#promise-prototype-finally" aria-hidden="true">#</a> Promise.prototype.finally()</h3>
<p>finally()方法用于指定不管Promise对象最后状态如何,都会执行的操作.该方法是ES2018引入标准的。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">promise.</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">result</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {})</span></span>
<span class="line"><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">catch</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">err</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {})</span></span>
<span class="line"><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">finally</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {})</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// finally的实现</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.prototype.</span><span style="color: #A6E22E">finally</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">callback</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> P </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.constructor;</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> </span><span style="color: #FD971F">this</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #FD971F; font-style: italic">value</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> P.</span><span style="color: #A6E22E">resolve</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">callback</span><span style="color: #F8F8F2">()).</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> value),</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #FD971F; font-style: italic">reason</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> P.</span><span style="color: #A6E22E">resolve</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">callback</span><span style="color: #F8F8F2">()).</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span><span style="color: #F92672">throw</span><span style="color: #F8F8F2"> reason})</span></span>
<span class="line"><span style="color: #F8F8F2">  )</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es2019" tabindex="-1"><a class="header-anchor" href="#es2019" aria-hidden="true">#</a> ES2019</h2>
<h3 id="trimstart-trimend" tabindex="-1"><a class="header-anchor" href="#trimstart-trimend" aria-hidden="true">#</a> trimStart()/trimEnd()</h3>
<p>对字符串新增了 trimStart() 和 trimEnd() 方法，分别用于取消字符串头部与尾部对空格。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> s1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;abc     &#39;</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> s2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;      abc&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(s2.</span><span style="color: #A6E22E">trimStart</span><span style="color: #F8F8F2">()) </span><span style="color: #88846F">//  abc</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(s1.</span><span style="color: #A6E22E">trimEnd</span><span style="color: #F8F8F2">()) </span><span style="color: #88846F">// abc</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器还部署了额外的两个方法，trimLeft()是trimStart()的别名，trimRight()是trimEnd()的别名。</p>
<h3 id="function-prototype-tostring" tabindex="-1"><a class="header-anchor" href="#function-prototype-tostring" aria-hidden="true">#</a> Function.prototype.toString()</h3>
<p>ES2019对函数实例的toString()方法做出了修改。toString()方法返回函数代码本身,以前会省略注释和空格。
修改后的toString()方法明确要求返回一摸一样的原始代码</p>
<h3 id="array-prototype-sort" tabindex="-1"><a class="header-anchor" href="#array-prototype-sort" aria-hidden="true">#</a> Array.prototype.sort()</h3>
<p>ES2019明确规定,Array.prototype.sort()的默认排序算法必须稳定。</p>
<h3 id="symbol-prototype-description" tabindex="-1"><a class="header-anchor" href="#symbol-prototype-description" aria-hidden="true">#</a> Symbol.prototype.description</h3>
<p>返回symbol的描述</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> symbol </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Symbol</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(symbol.description) </span><span style="color: #88846F">// foo</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-fromentries" tabindex="-1"><a class="header-anchor" href="#object-fromentries" aria-hidden="true">#</a> Object.fromEntries()</h3>
<p>Object.entries() 可以将一个对象转化为键值对的二维数组, Object.fromEntries()是对 Object.entries()的反向操作。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> object </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  firstName: </span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  lastName: </span><span style="color: #E6DB74">&#39;irving&#39;</span><span style="color: #F8F8F2">,</span></span>
<span class="line"><span style="color: #F8F8F2">  age: </span><span style="color: #AE81FF">30</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">entries</span><span style="color: #F8F8F2">(object)</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">[ [&#39;firstName&#39;, &#39;kyrie&#39;], [&#39;lastName&#39;, &#39;irving&#39;], [&#39;age&#39;, 30]]</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> reverseObject </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">fromEntries</span><span style="color: #F8F8F2">(array)</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">const reverseObject = {</span></span>
<span class="line"><span style="color: #88846F">  firstName: &#39;kyrie&#39;,</span></span>
<span class="line"><span style="color: #88846F">  lastName: &#39;irving&#39;,</span></span>
<span class="line"><span style="color: #88846F">  age: 30</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> entries </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Map</span><span style="color: #F8F8F2">([</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;foo&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;bar&#39;</span><span style="color: #F8F8F2">],</span></span>
<span class="line"><span style="color: #F8F8F2">  [</span><span style="color: #E6DB74">&#39;baz&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;42&#39;</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">])</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">fromEntries</span><span style="color: #F8F8F2">(entries))</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">{</span></span>
<span class="line"><span style="color: #88846F">  foo: &#39;bar&#39;,</span></span>
<span class="line"><span style="color: #88846F">  baz: 42</span></span>
<span class="line"><span style="color: #88846F">}</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries" target="_blank" rel="noopener noreferrer">MDN-Object.fromEntries<ExternalLinkIcon/></a></p>
<h3 id="catch命令的参数省略" tabindex="-1"><a class="header-anchor" href="#catch命令的参数省略" aria-hidden="true">#</a> catch命令的参数省略</h3>
<p>JavaScript语言的 try...catch结构, 以前明确要求catch命令后面必须跟参数,接受try代码块抛出的错误对象。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">try</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #88846F">//...</span></span>
<span class="line"><span style="color: #F8F8F2">}</span><span style="color: #F92672">catch</span><span style="color: #F8F8F2">(err) {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ES2019做出了改变,允许catch语句省略参数。</p>
<h2 id="es2020" tabindex="-1"><a class="header-anchor" href="#es2020" aria-hidden="true">#</a> ES2020</h2>
<h3 id="import" tabindex="-1"><a class="header-anchor" href="#import" aria-hidden="true">#</a> import()</h3>
<p>ES2020引入import函数,支持动态加载模块, 可以在需要的时候,再加载某个模块。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F92672">import</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;./math.js&#39;</span><span style="color: #F8F8F2">).</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">(() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="globalthis" tabindex="-1"><a class="header-anchor" href="#globalthis" aria-hidden="true">#</a> globalThis</h3>
<p>全局属性globalThis包含全局的this值,提供了一个标准的方法来获取不同环境下的全局this对象。确保可以在有无窗口的各种环境下
正常工作。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// es6-shim</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">var</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">getGlobal</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> () {</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> (</span><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> self </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;undefined&#39;</span><span style="color: #F8F8F2">) { </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> self; }</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> (</span><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> window </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;undefined&#39;</span><span style="color: #F8F8F2">) { </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> window; }</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">if</span><span style="color: #F8F8F2"> (</span><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> global </span><span style="color: #F92672">!==</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;undefined&#39;</span><span style="color: #F8F8F2">) { </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> global; }</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">throw</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">new</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Error</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;unable to locate global object&#39;</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #F8F8F2">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bigint" tabindex="-1"><a class="header-anchor" href="#bigint" aria-hidden="true">#</a> BigInt</h3>
<p>BigInt是一种内置对象, 它提供了一种方法来表示大于2^53 - 1的整数。BigInt可以表示任意大的整数。
可以在一个整数字面量后面加n的方式定义一个BigInt.</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.MAX_SAFE_INTEGER </span><span style="color: #88846F">// 9007199254740991</span></span>
<span class="line"><span style="color: #66D9EF">Math</span><span style="color: #F8F8F2">.</span><span style="color: #66D9EF">pow</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">53</span><span style="color: #F8F8F2">)         </span><span style="color: #88846F">// 9007199254740992</span></span>
<span class="line"></span>
<span class="line"><span style="color: #AE81FF">9007199254740992</span><span style="color: #F92672">+</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">      </span><span style="color: #88846F">// 9007199254740992</span></span>
<span class="line"><span style="color: #66D9EF">Math</span><span style="color: #F8F8F2">.</span><span style="color: #66D9EF">pow</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">53</span><span style="color: #F8F8F2">) </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">9007199254740993</span><span style="color: #F8F8F2">  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F92672">typeof</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">9007199254740992</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2">    </span><span style="color: #88846F">// bigint</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>bigint 也可以和 + - * / 等运算符一起使用。不能用于Math对象中等方法。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #AE81FF">9007199254740992</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">+</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">9007199254740992</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2">   </span><span style="color: #88846F">// 18014398509481984n</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">BigInt</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Number</span><span style="color: #F8F8F2">.MAX_SAFE_INTEGER)         </span><span style="color: #88846F">// 9007199254740991n</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF">Math</span><span style="color: #F8F8F2">.</span><span style="color: #66D9EF">pow</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">54</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// 报错 Cannot convert a BigInt value to a number</span></span>
<span class="line"><span style="color: #AE81FF">2</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">**</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">54</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2">           </span><span style="color: #88846F">// 18014398509481984n</span></span>
<span class="line"><span style="color: #F8F8F2">10n.</span><span style="color: #A6E22E">toString</span><span style="color: #F8F8F2">()      </span><span style="color: #88846F">// &#39;10&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #88846F">// / 操作符会向0取整</span></span>
<span class="line"><span style="color: #AE81FF">5</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F92672">/</span><span style="color: #AE81FF">3</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #88846F">// 1n</span></span>
<span class="line"><span style="color: #AE81FF">5</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F92672">/</span><span style="color: #AE81FF">2</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #88846F">// 2n</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #AE81FF">1</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">==</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">   </span><span style="color: #88846F">// true</span></span>
<span class="line"><span style="color: #AE81FF">1</span><span style="color: #66D9EF; font-style: italic">n</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">  </span><span style="color: #88846F">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="array-prototype-flat" tabindex="-1"><a class="header-anchor" href="#array-prototype-flat" aria-hidden="true">#</a> Array.prototype.flat()</h3>
<p>Array.prototype.flat()用于将嵌套的数组 '拉平', 变成一维的数组,该方法返回一个新数组。对愿数组没有影响。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">]].</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">() </span><span style="color: #88846F">// [ 1, 2, 3, 4, 4, 6 ]</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">],[[</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">]]].</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">() </span><span style="color: #88846F">// [ 1, 2, 3, 4, [ 5, 6 ] ]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">],[[</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">]]].</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// [ 1, 2, 3, 4, 5, 6 ]</span></span>
<span class="line"><span style="color: #F8F8F2">[</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">7</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">8</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">9</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2">]]]]].</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">[</span></span>
<span class="line"><span style="color: #88846F">  1, 2, 3, 4,  4,</span></span>
<span class="line"><span style="color: #88846F">  5, 7, 8, 9, 10</span></span>
<span class="line"><span style="color: #88846F">]</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>flat()默认只会 拉平 一层, 如果想要拉平多层的嵌套数组, 可以将flat()方法的参数写一个整数,
或者 直接写成Infinity,不管有多少层嵌套,都会转成一维数组。</p>
<ul>
<li>如果有空位,flat方法会跳过空位</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #88846F">// flat方法的实现</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">array</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">d</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(d </span><span style="color: #F92672">&lt;=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> array.</span><span style="color: #A6E22E">slice</span><span style="color: #F8F8F2">();</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span><span style="color: #F92672">else</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> array.</span><span style="color: #A6E22E">reduce</span><span style="color: #F8F8F2">((</span><span style="color: #FD971F; font-style: italic">prev</span><span style="color: #F8F8F2">,</span><span style="color: #FD971F; font-style: italic">next</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isArray</span><span style="color: #F8F8F2">(next)) {</span></span>
<span class="line"><span style="color: #F8F8F2">        prev </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> prev.</span><span style="color: #A6E22E">concat</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(next, d</span><span style="color: #F92672">-</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">))</span></span>
<span class="line"><span style="color: #F8F8F2">      }</span><span style="color: #F92672">else</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(next){</span></span>
<span class="line"><span style="color: #F8F8F2">          prev </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> prev.</span><span style="color: #A6E22E">concat</span><span style="color: #F8F8F2">(next)</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">      }</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> prev;</span></span>
<span class="line"><span style="color: #F8F8F2">    }, [])</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">function</span><span style="color: #F8F8F2"> </span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(</span><span style="color: #FD971F; font-style: italic">array</span><span style="color: #F8F8F2">, </span><span style="color: #FD971F; font-style: italic">d</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">){</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> temp </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #F92672">...</span><span style="color: #F8F8F2">array]</span></span>
<span class="line"><span style="color: #F8F8F2">  </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(d </span><span style="color: #F92672">&lt;=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">) {</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> temp;</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span><span style="color: #F92672">else</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> t </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> []</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">for</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> item </span><span style="color: #F92672">of</span><span style="color: #F8F8F2"> temp) {</span></span>
<span class="line"><span style="color: #F8F8F2">      </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(</span><span style="color: #66D9EF; font-style: italic">Array</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">isArray</span><span style="color: #F8F8F2">(item)){</span></span>
<span class="line"><span style="color: #F8F8F2">        t.</span><span style="color: #A6E22E">push</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">...</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(item, d</span><span style="color: #F92672">-</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">))</span></span>
<span class="line"><span style="color: #F8F8F2">      }</span><span style="color: #F92672">else</span><span style="color: #F8F8F2">{</span></span>
<span class="line"><span style="color: #F8F8F2">        </span><span style="color: #F92672">if</span><span style="color: #F8F8F2">(item){</span></span>
<span class="line"><span style="color: #F8F8F2">          t.</span><span style="color: #A6E22E">push</span><span style="color: #F8F8F2">(item)</span></span>
<span class="line"><span style="color: #F8F8F2">        }</span></span>
<span class="line"><span style="color: #F8F8F2">      }</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">    </span><span style="color: #F92672">return</span><span style="color: #F8F8F2"> t;</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> flat_array </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">2</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">3</span><span style="color: #F8F8F2">],[</span><span style="color: #AE81FF">4</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">5</span><span style="color: #F8F8F2">, </span><span style="color: #AE81FF">undefined</span><span style="color: #F8F8F2">, ,[</span><span style="color: #AE81FF">6</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">7</span><span style="color: #F8F8F2">, [</span><span style="color: #AE81FF">8</span><span style="color: #F8F8F2">,</span><span style="color: #AE81FF">9</span><span style="color: #F8F8F2">,[</span><span style="color: #AE81FF">10</span><span style="color: #F8F8F2">]]]]]</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(flat_array, </span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">))</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">[</span></span>
<span class="line"><span style="color: #88846F">  1, 2, 3, 4,  5,</span></span>
<span class="line"><span style="color: #88846F">  6, 7, 8, 9, 10</span></span>
<span class="line"><span style="color: #88846F">]</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #A6E22E">flat</span><span style="color: #F8F8F2">(flat_array, </span><span style="color: #AE81FF">Infinity</span><span style="color: #F8F8F2">))</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">[</span></span>
<span class="line"><span style="color: #88846F">  1, 2, 3, 4,  5,</span></span>
<span class="line"><span style="color: #88846F">  6, 7, 8, 9, 10</span></span>
<span class="line"><span style="color: #88846F">]</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="promise-allsettled" tabindex="-1"><a class="header-anchor" href="#promise-allsettled" aria-hidden="true">#</a> Promise.allSettled</h3>
<p>Promise.allSettled()方法接收一个数组作为参数, 数组的每个成员都是一个Promise对象。并返回一个Promise对象。
所有Promise的状态都变更, 返回的Promise对象才会发生状态变更(不管是fulfilled还是rejected)。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> resolved </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">resolve</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">42</span><span style="color: #F8F8F2">);</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> rejected </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">reject</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">-</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Promise</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">allSettled</span><span style="color: #F8F8F2">([resolved, rejected]).</span><span style="color: #A6E22E">then</span><span style="color: #F8F8F2">((</span><span style="color: #FD971F; font-style: italic">result</span><span style="color: #F8F8F2">) </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;result&#39;</span><span style="color: #F8F8F2">, result)</span></span>
<span class="line"><span style="color: #F8F8F2">})</span></span>
<span class="line"><span style="color: #88846F">/*</span></span>
<span class="line"><span style="color: #88846F">result [</span></span>
<span class="line"><span style="color: #88846F">  { status: &#39;fulfilled&#39;, value: 42 },</span></span>
<span class="line"><span style="color: #88846F">  { status: &#39;rejected&#39;, reason: -1 }</span></span>
<span class="line"><span style="color: #88846F">]</span></span>
<span class="line"><span style="color: #88846F">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="链判断运算符" tabindex="-1"><a class="header-anchor" href="#链判断运算符" aria-hidden="true">#</a> 链判断运算符</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> message_1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  body: {</span></span>
<span class="line"><span style="color: #F8F8F2">    user: {</span></span>
<span class="line"><span style="color: #F8F8F2">      firstName: </span><span style="color: #E6DB74">&#39;kyrie&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">    }</span></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> message_2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> {</span></span>
<span class="line"><span style="color: #F8F8F2">  body: {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">  }</span></span>
<span class="line"><span style="color: #F8F8F2">}</span></span>
<span class="line"><span style="color: #F8F8F2">message_1.body.user.firstName  </span><span style="color: #88846F">// kyrie</span></span>
<span class="line"><span style="color: #F8F8F2">message_2.body.user.firstName; </span></span>
<span class="line"><span style="color: #88846F">//  can not read property &#39;firstName&#39; of undefined</span></span>
<span class="line"><span style="color: #88846F">// 上面的例子判断是否有firstName的时候 需要每一层都判断 对象是否有属性。</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> firstName </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> message_2?.body?.user?.firstName  </span><span style="color: #88846F">// undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>左侧的对象是否为null或undefined.如果是的话 就不再往下运算 而是返回undefined
可选链式运算符有三种语法形式: 可选的静态属性访问, 可选的计算属性访问, 可选的函数调用。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">obj?.prop</span></span>
<span class="line"><span style="color: #F8F8F2">obj?.[exp]</span></span>
<span class="line"><span style="color: #A6E22E">fn</span><span style="color: #F8F8F2">?.()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="判断null" tabindex="-1"><a class="header-anchor" href="#判断null" aria-hidden="true">#</a> 判断Null</h3>
<p>??  只要运算符左侧的值为null 或undefined时, 才会返回右侧的值。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">( </span><span style="color: #E6DB74">&#39;&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">false</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">null</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">undefined</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">||</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;&#39;</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// &#39;&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">false</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// false</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// 0</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">null</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">undefined</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// hello</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">NaN</span><span style="color: #F8F8F2"> </span><span style="color: #F92672">??</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// NaN</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es2021" tabindex="-1"><a class="header-anchor" href="#es2021" aria-hidden="true">#</a> ES2021</h2>
<h3 id="replaceall" tabindex="-1"><a class="header-anchor" href="#replaceall" aria-hidden="true">#</a> replaceAll()</h3>
<p>replace方法只能替换第一个匹配,如果要替换所有的匹配,可以使用正则表达式全局匹配。
在ES2021中字符串的方法引入了replaceAll()方法,可以一次性替换所有匹配。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #E6DB74">&#39;aabbc_cc&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">replace</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;&#39;</span><span style="color: #F8F8F2">)     </span><span style="color: #88846F">// aabb_cc</span></span>
<span class="line"><span style="color: #E6DB74">&#39;aabbccc&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">replace</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">/c/</span><span style="color: #F92672">g</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;&#39;</span><span style="color: #F8F8F2">)     </span><span style="color: #88846F">// aabb</span></span>
<span class="line"><span style="color: #E6DB74">&#39;aabbccc&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">replaceAll</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;c&#39;</span><span style="color: #F8F8F2">,</span><span style="color: #E6DB74">&#39;&#39;</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// aabb</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>replaceAll()的第二个参数replacement除了为字符串,也可以是一个函数,该函数的返回值将替换第一个参数searchValue匹配的文本</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #E6DB74">&#39;aabbccc&#39;</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">replaceAll</span><span style="color: #F8F8F2">(</span><span style="color: #E6DB74">&#39;b&#39;</span><span style="color: #F8F8F2">,() </span><span style="color: #66D9EF; font-style: italic">=&gt;</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;_&#39;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// aa_ccc</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>如果使用replaceAll(searchValue,replacement),searchValue作为正则时不带g修饰符,会导致replaceAll()报错</p>
</div>
<h3 id="允许javascript的数值使用下划线-作为分隔符" tabindex="-1"><a class="header-anchor" href="#允许javascript的数值使用下划线-作为分隔符" aria-hidden="true">#</a> 允许JavaScript的数值使用下划线(_)作为分隔符</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> n1 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1_000</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> n2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #AE81FF">1000</span><span style="color: #F8F8F2">;</span></span>
<span class="line"><span style="color: #F8F8F2">console.</span><span style="color: #A6E22E">log</span><span style="color: #F8F8F2">(n1 </span><span style="color: #F92672">===</span><span style="color: #F8F8F2"> n2)  </span><span style="color: #88846F">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>除了十进制,其他进制的数值也可以使用分隔符,但分隔符不能紧跟着进制的前缀。</p>
</div>
<p>for...of循环, 扩展运算符, 解构赋值和Array.from方法内部调用的都是遍历器接口。</p>
<h2 id="es2022" tabindex="-1"><a class="header-anchor" href="#es2022" aria-hidden="true">#</a> ES2022</h2>
<h3 id="at" tabindex="-1"><a class="header-anchor" href="#at" aria-hidden="true">#</a> at</h3>
<p>数组实例上新增了at()方法, 接受一个整数作为参数,返回对应位置等成员. 支持负索引。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> players </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> [</span><span style="color: #E6DB74">&#39;kyrie&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;lebron&#39;</span><span style="color: #F8F8F2">, </span><span style="color: #E6DB74">&#39;wade&#39;</span><span style="color: #F8F8F2">]</span></span>
<span class="line"><span style="color: #F8F8F2">players.</span><span style="color: #A6E22E">at</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)   </span><span style="color: #88846F">// kyrie</span></span>
<span class="line"><span style="color: #F8F8F2">players.</span><span style="color: #A6E22E">at</span><span style="color: #F8F8F2">(</span><span style="color: #F92672">-</span><span style="color: #AE81FF">1</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// wade</span></span>
<span class="line"><span style="color: #F8F8F2">players.</span><span style="color: #A6E22E">at</span><span style="color: #F8F8F2">(players.length)  </span><span style="color: #88846F">// undefined</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">const</span><span style="color: #F8F8F2"> string </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #E6DB74">&#39;hello world&#39;</span></span>
<span class="line"><span style="color: #F8F8F2">string.</span><span style="color: #A6E22E">at</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">0</span><span style="color: #F8F8F2">)  </span><span style="color: #88846F">// h</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-hasown" tabindex="-1"><a class="header-anchor" href="#object-hasown" aria-hidden="true">#</a> Object.hasOwn()</h3>
<p>The Object.hasOwn() static method returns true if the specified object has the indicated property as its
own property. If the property is inherited, or does not exist, the method returns false</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #272822"><code><span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> object </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> { foo: </span><span style="color: #AE81FF">false</span><span style="color: #F8F8F2"> }</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">hasOwn</span><span style="color: #F8F8F2">(object, </span><span style="color: #E6DB74">&quot;foo&quot;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> object2 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">create</span><span style="color: #F8F8F2">({ foo: </span><span style="color: #AE81FF">true</span><span style="color: #F8F8F2"> })</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">hasOwn</span><span style="color: #F8F8F2">(object2, </span><span style="color: #E6DB74">&quot;foo&quot;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">let</span><span style="color: #F8F8F2"> object3 </span><span style="color: #F92672">=</span><span style="color: #F8F8F2"> </span><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">create</span><span style="color: #F8F8F2">(</span><span style="color: #AE81FF">null</span><span style="color: #F8F8F2">)</span></span>
<span class="line"><span style="color: #66D9EF; font-style: italic">Object</span><span style="color: #F8F8F2">.</span><span style="color: #A6E22E">hasOwn</span><span style="color: #F8F8F2">(object3, </span><span style="color: #E6DB74">&quot;foo&quot;</span><span style="color: #F8F8F2">) </span><span style="color: #88846F">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwn" target="_blank" rel="noopener noreferrer">MDN-hasOwn<ExternalLinkIcon/></a></p>
<p><a href="https://es6.ruanyifeng.com/#README" target="_blank" rel="noopener noreferrer">ES6入门教程<ExternalLinkIcon/></a></p>
<p><a href="https://github.com/tc39/proposals/blob/HEAD/finished-proposals.md" target="_blank" rel="noopener noreferrer">ECMAScript-TC39<ExternalLinkIcon/></a></p>
</div></template>
