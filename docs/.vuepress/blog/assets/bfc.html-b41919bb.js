import{_ as a}from"./framework-c27b6911.js";import{r as o,o as p,c as e,d as s,e as t,a as F,b as n}from"./app-ec006255.js";const c={},i=n('<h1 id="bfc" tabindex="-1"><a class="header-anchor" href="#bfc" aria-hidden="true">#</a> BFC</h1><p>Block Formatting Context 是Web页面的可视CSS渲染的一部分，是块盒子的布局过程发生的区域。也是浮动元素与其他元素交互的区域。 以下方式会创建块格式化上下文:</p><ol><li>根元素 html</li><li>浮动元素(元素的float不是none)</li><li>绝对定位元素(元素的position为absolute或fixed)</li><li>行内块元素(元素的display为inline-block)</li><li>表格单元格(元素的display为table-cell)</li><li>表格标题(元素的display为table-caption)</li><li>overflow值不为visible的块元素</li><li>弹性元素(display为flex或inline-flex元素的直接子元素)</li><li>元素属性为 display: flow-root (类似于一个新的根元素,就像html一样) 或 display: flow-root list-item</li></ol><p>块格式化上下文包含创建它的元素内部的所有内容。 清除浮动只能清除同一BFC中在它前面的元素的浮动.外边距折叠 只会发生在属于同一BFC的块级元素之间。</p><p>BFC的特性:</p><ol><li>属于同一个BFC的两个相邻容器的上下margin会重叠</li><li>计算BFC高度时,浮动元素也参与计算</li><li>BFC的区域不会与浮动元素容器发生重叠</li><li>BFC内的容器在垂直方向依次排列</li><li>元素的margin-left与其包含块的border-left相接触</li><li>BFC是独立容器，容器内部元素不会影响容器外部元素</li></ol>',6),r={href:"https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context",target:"_blank",rel:"noopener noreferrer"},y=n(`<p>外边距重叠</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>有设置float 和 position=absolute的元素不会发生外边距重叠行为。</p></div><p>下面的demo, 两个div子元素设置了左浮动, 但是上下边距没有合并！</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#A6E22E;">.float-margin-container</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">display</span><span style="color:#F8F8F2;">:</span><span style="color:#66D9EF;">flow-root</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">110</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">border</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">1</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">solid</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">skyblue</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#A6E22E;">.float-margin-container</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">.item-1</span><span style="color:#F8F8F2;">, </span><span style="color:#A6E22E;">.float-margin-container</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">.item-2</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">height</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">background-color</span><span style="color:#F8F8F2;">:</span><span style="color:#66D9EF;">pink</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#A6E22E;">.float-margin-container</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">.item-1</span><span style="color:#F8F8F2;">{</span><span style="color:#66D9EF;font-style:italic;">margin-bottom</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">10</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">float</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">left</span><span style="color:#F8F8F2;">;}</span></span>
<span class="line"><span style="color:#A6E22E;">.float-margin-container</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">.item-2</span><span style="color:#F8F8F2;">{</span><span style="color:#66D9EF;font-style:italic;">margin-top</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">20</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">float</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">left</span><span style="color:#F8F8F2;">;}</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">class</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;float-margin-container&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">class</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;item-1&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">class</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;item-2&quot;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>块的上外边距和下外边距有时合并为单个边距, 其大小为单个边距的最大值, 这种行为称为外边距折叠。</li><li>如果没有边框border，内边距padding，行内内容，也没有创建块级格式上下文或清除浮动来分开一个块级元素的 上边界margin-top 与其内一个或多个后代块级元素的上边界margin-top；或没有边框，内边距，行内内容，高度height， 最小高度min-height或 最大高度max-height 来分开一个块级元素的下边界margin-bottom与其内的一个或多个后代后代块元素的下边界margin-bottom，则就会出现父块元素和其内后代块元素外边界重叠，重叠部分最终会溢出到父级块元素外面</li></ol><p>以下是MDN的一个demo。父元素的 marin-top 和 margin-bottom 分别和 header的 margin-top, footer的margin-bottom合并</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">section</span><span style="color:#F8F8F2;">{ </span><span style="color:#66D9EF;font-style:italic;">margin-top</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">13</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">; </span><span style="color:#66D9EF;font-style:italic;">margin-bottom</span><span style="color:#F8F8F2;">:</span><span style="color:#AE81FF;">87</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;}</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">section</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">header</span><span style="color:#F8F8F2;">{ </span><span style="color:#66D9EF;font-style:italic;">margin-top</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">87</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;}</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">section</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">footer</span><span style="color:#F8F8F2;">{ </span><span style="color:#66D9EF;font-style:italic;">margin-bottom</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">87</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;}</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">style</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">section</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">header</span><span style="color:#F8F8F2;">&gt;上边界重叠 87&lt;/</span><span style="color:#F92672;">header</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">main</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#F92672;">main</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">footer</span><span style="color:#F8F8F2;">&gt;下边界重叠 87 不能再高了&lt;/</span><span style="color:#F92672;">footer</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">section</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">/* 两个元素之间的margin为20px */</span></span>
<span class="line"><span style="color:#A6E22E;">.top</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">height</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">margin-bottom</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">10</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">background-color</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">skyblue</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#A6E22E;">.bottom</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">/* float: left; */</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">/* display: inline-block */</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">margin-top</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">20</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">height</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">background-color</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">pink</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#A6E22E;">.container</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">height</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">100</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#A6E22E;">.container</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">.item</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">margin-top</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">10</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">width</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">10</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">height</span><span style="color:#F8F8F2;">: </span><span style="color:#AE81FF;">10</span><span style="color:#F92672;">px</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#88846F;">/* 利用伪元素清除 父元素内的子元素 margin 重叠 */</span></span>
<span class="line"><span style="color:#A6E22E;">.container:before</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">content</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">display</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">block</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">overflow</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;">hidden</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="脱离常规流的元素" tabindex="-1"><a class="header-anchor" href="#脱离常规流的元素" aria-hidden="true">#</a> 脱离常规流的元素</h2><ol><li>floated items。 浮动的元素</li><li>items with <em>position: absolute</em> (including <em>position: fixed</em> which acts in the same way).</li><li>the root element(html)根元素</li></ol><p>脱离常规流的元素会创建一个新的块级格式化上下文环境, 其中包含的所有元素构成了一个小的布局环境, 与页面中的其他内分隔开来。而根元素, 作为页面所有内容的容器, 自身脱离常规流, 为整个文档创建了一个块级格式化上下文环境。</p>`,12);function d(m,v){const l=o("ExternalLinkIcon");return p(),e("div",null,[i,s("p",null,[s("a",r,[t("MDN-BFC"),F(l)])]),y])}const E=a(c,[["render",d],["__file","bfc.html.vue"]]);export{E as default};
