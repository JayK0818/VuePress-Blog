import{_ as s}from"./framework-c27b6911.js";import{o as n,c as a,b as l}from"./app-ec006255.js";const e={},o=l(`<h1 id="csp" tabindex="-1"><a class="header-anchor" href="#csp" aria-hidden="true">#</a> CSP</h1><p>内容安全策略(CSP) 是一个额外的安全层。用于检测并削弱某些特定类型的攻击, 包括跨站脚本和数据注入攻击等。为了使CSP可用, 你需要配置你的网络服务器返回 <strong>Content-Security-Policy</strong> HTTP标头。除此之外, meta元素也可以被用来配置该策略。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">meta</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">http-equiv</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&#39;Content-Security-Policy&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">content</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;default-src &#39;self&#39;; img-src https://*; chil-src &#39;none&#39;&quot;</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>CSP通过指定有效域(浏览器认可的可执行脚本的有效来源), 使服务器管理者有能力减少或消除XSS攻击所依赖的载体。</p><h2 id="content-security-policy" tabindex="-1"><a class="header-anchor" href="#content-security-policy" aria-hidden="true">#</a> Content-Security-Policy</h2><p>配置内容安全策略 添加 <strong>Content-Security-Policy</strong> HTTP标头到一个页面, 并配置相应的值, 以控制用户代理可以为该页面获取哪些资源。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// usage</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#E6DB74;">&#39;Content-Security-Policy&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;policy&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>default-src 可以为其他CSP拉取指令提供备选项。 <ol><li>&#39;self&#39; 指向与要保护的文件所在的源, 包含相同的URL schema 与端口号。</li><li>&#39;unsafe-inline&#39; 允许使用内联资源。例如内联 script元素 / 内联 style 内联事件处理器。</li><li>&#39;unsafe-eval&#39; 允许使用eval()</li><li>&#39;none&#39; 不允许使用任何内容。</li></ol></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2;">Content</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Security</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Policy: </span><span style="color:#F92672;">default-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">; script</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src https:</span><span style="color:#88846F;">//example.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 等价于</span></span>
<span class="line"><span style="color:#F8F8F2;">Content</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Security</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">Policy: connect</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  font</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  frame</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  img</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  manifest</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  media</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  object</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  script</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src https:</span><span style="color:#88846F;">//example.com;</span></span>
<span class="line"><span style="color:#F8F8F2;">  style</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">  worker</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">src </span><span style="color:#E6DB74;">&#39;self&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),p=[o];function c(r,t){return n(),a("div",null,p)}const y=s(e,[["render",c],["__file","csp.html.vue"]]);export{y as default};
