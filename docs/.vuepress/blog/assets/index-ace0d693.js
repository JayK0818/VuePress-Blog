import{m as L}from"./mitt-f7ef348c.js";import{g as _,m as k,y as $,z as y,A as B,B as C,q as m,o,c as d,F as c,j as x,a as p,i as M,d as f,t as r,C as T,r as N,w as I,e as w,D as V,_ as q,h as b,l as A,f as U}from"./app-ec006255.js";import{_ as h}from"./framework-c27b6911.js";const D=L(),e=D,E=_({name:"todo-list",props:{list:{type:Array,required:!0}},beforeCreate(){e.emit("update","child-beforeCreate")},created(){e.emit("update","child-created")},beforeMount(){e.emit("update","child-beforeMount")},mounted(){e.emit("update","child-mounted")},beforeUpdate(){e.emit("update","child-beforeUpdate")},updated(){e.emit("update","child-updated")},beforeUnmount(){e.emit("update","child-beforeUnmount")},unmounted(){e.emit("update","child-unmounted")},setup(){k(()=>{e.emit("update","child-setup-onMounted")}),$(()=>{e.emit("update","child-setup-onUpdated")}),y(()=>{e.emit("update","child-setup-onUnmounted")}),B(()=>{e.emit("update","child-setup-onBeforeMount")}),C(()=>{e.emit("update","child-setup-onBeforeUpdate")}),m(()=>{e.emit("update","child-setup-onBeforeUnmount")})},methods:{toggle(t){this.$emit("toggle",t)}}});const F={class:"todo-list"},j={class:"text"};function z(t,u,a,l,i,v){const s=T;return o(),d("ul",F,[(o(!0),d(c,null,x(t.list,n=>(o(),d("li",{class:"todo-item",key:n.id},[p(s,{checked:n.completed,onClick:M(g=>t.toggle(n),["stop"])},null,8,["checked","onClick"]),f("span",j,r(n.text),1)]))),128))])}const S=h(E,[["render",z],["__scopeId","data-v-fa33208e"],["__file","TodoList.vue"]]),W=_({data(){return{todo:"",todo_list:[]}},components:{TodoList:S},beforeCreate(){e.emit("update","parent-beforeCreate")},created(){e.emit("update","parent-created")},beforeMount(){e.emit("update","parent-beforeMount")},mounted(){e.emit("update","parent-mounted")},beforeUpdate(){e.emit("update","parent-beforeUpdate")},updated(){e.emit("update","parent-updated")},beforeUnmount(){e.emit("update","parent-beforeUnmount")},unmounted(){e.emit("update","parent-unmounted")},methods:{increment(){e.emit("clear"),this.todo_list.push({text:this.todo,id:this.todo_list.length+1,completed:!1}),this.todo=""},toggle(t){e.emit("clear"),t.completed=!t.completed},handle_todo_changed(t){e.emit("clear"),this.todo=t}},setup(){k(()=>{e.emit("update","parent-setup-onMounted")}),$(()=>{e.emit("update","parent-setup-onUpdated")}),y(()=>{e.emit("update","parent-setup-onUnmounted")}),B(()=>{e.emit("update","parent-setup-onBeforeMount")}),m(()=>{e.emit("update","parent-setup-onBeofreUnmount")}),C(()=>{e.emit("update","parent-setup-onBeforeUpdate")})}});const G={class:"todo-wrapper"};function H(t,u,a,l,i,v){const s=V,n=q,g=N("todo-list");return o(),d(c,null,[f("div",G,[p(s,{placeholder:"What next todo?",value:t.todo,onInput:t.handle_todo_changed},null,8,["value","onInput"]),p(n,{type:"primary",onClick:M(t.increment,["stop"])},{default:I(()=>[w("新增")]),_:1},8,["onClick"])]),p(g,{list:t.todo_list,onToggle:t.toggle},null,8,["list","onToggle"])],64)}const J=h(W,[["render",H],["__scopeId","data-v-78fd2c3d"],["__file","Todo.vue"]]),K={key:1},O=_({__name:"index",setup(t){const u=b([]),a=b(!0);e.on("clear",()=>{u.value=[]}),e.on("update",i=>{u.value.push(i)});const l=()=>{e.emit("clear"),a.value=!a.value};return m(()=>{e.off("update"),e.off("clear")}),(i,v)=>{const s=T;return o(),d(c,null,[f("div",null,[p(s,{checked:a.value,onClick:l},{default:I(()=>[w(r(a.value?"销毁组件":"创建组件"),1)]),_:1},8,["checked"])]),a.value?(o(),A(J,{key:0})):U("v-if",!0),u.value.length?(o(),d("ol",K,[(o(!0),d(c,null,x(u.value,n=>(o(),d("li",null,r(n),1))),256))])):U("v-if",!0)],64)}}});const X=h(O,[["__scopeId","data-v-7ccf92fa"],["__file","index.vue"]]);export{X as default};
