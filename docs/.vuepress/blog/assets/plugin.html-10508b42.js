import{_ as s}from"./framework-c27b6911.js";import{o as n,c as a,b as l}from"./app-ec006255.js";const e="/assets/html-webpack-plugin-7048bb77.png",p="/assets/lazy-load-c8bf2c39.png",o="/assets/mini-css-9ada6abd.png",i="/assets/copy-plugin-e79e88dd.png",c="/assets/copy-priority-faf2a2cb.png",r="/assets/copy-transform-7b3d3432.png",t="/assets/chunk-count-1-55698f6a.png",F="/assets/chunk-count-2-68119d50.png",d={},y=l(`<h1 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> plugins</h1><h2 id="html-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#html-webpack-plugin" aria-hidden="true">#</a> html-webpack-plugin</h2><p>This is a webpack plugin that simplifies creation of HTML files to serve your webpack bundles. This is especially useful for webpack bundles that includes a hash in the filename which changes every compilation.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> HtmlWebpackPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">HtmlWebpackPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      title: </span><span style="color:#E6DB74;">&#39;html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// document.title   default: Webpack App</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// filename: &#39;about.html&#39;,  //     default: index.html</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// filename: &#39;[name].html&#39;,  // 根据入口名字生成</span></span>
<span class="line"><span style="color:#F8F8F2;">      template: path.</span><span style="color:#A6E22E;">join</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/template.html&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      inject: </span><span style="color:#E6DB74;">&#39;body&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// true | head | body | false</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">      inject all assets into the given template or templateContent.</span></span>
<span class="line"><span style="color:#88846F;">      body: all javascript resources will be placed at the bottom of the body element</span></span>
<span class="line"><span style="color:#88846F;">      head: will place the scripts in the head element</span></span>
<span class="line"><span style="color:#88846F;">      true: will add it to the head/body depending on the scriptLoading option.</span></span>
<span class="line"><span style="color:#88846F;">      false: will disable automatic injections</span></span>
<span class="line"><span style="color:#88846F;">      */</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// publicPath: &#39;/assets/&#39;,  </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// index.html 引用的资源路径 used for script and link tags</span></span>
<span class="line"><span style="color:#F8F8F2;">      scriptLoading: </span><span style="color:#E6DB74;">&#39;blocking&#39;</span><span style="color:#F8F8F2;">,   </span><span style="color:#88846F;">// blocking defer module</span></span>
<span class="line"><span style="color:#F8F8F2;">      favicon: path.</span><span style="color:#A6E22E;">join</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/icon.svg&#39;</span><span style="color:#F8F8F2;">),  </span><span style="color:#88846F;">// icon图标</span></span>
<span class="line"><span style="color:#F8F8F2;">      minify: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// true if mode is &#39;production&#39; otherwise false</span></span>
<span class="line"><span style="color:#F8F8F2;">      hash: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 引入的 js css文件名后带hash值  </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// if true then append a unique webpack compilation hash to all </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// included scripts and css files</span></span>
<span class="line"><span style="color:#F8F8F2;">      cache: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunks: [</span><span style="color:#E6DB74;">&#39;app&#39;</span><span style="color:#F8F8F2;">], </span><span style="color:#88846F;">// Allows you to add only some chunks</span></span>
<span class="line"><span style="color:#F8F8F2;">      meta: {     </span><span style="color:#88846F;">// allows to inject meta tags</span></span>
<span class="line"><span style="color:#F8F8F2;">        viewport: </span><span style="color:#E6DB74;">&#39;width=device-width,initial-scale=1&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        content: </span><span style="color:#E6DB74;">&#39;webpack,html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        keywords: </span><span style="color:#E6DB74;">&#39;webpack&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;theme-color&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;#4285f4&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// base: &#39;http://192.168.0.141:8080&#39;, will inject a base tag </span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+e+`" alt="html-webpack-plugin"></p><h2 id="mini-css-extract-plugin" tabindex="-1"><a class="header-anchor" href="#mini-css-extract-plugin" aria-hidden="true">#</a> mini-css-extract-plugin</h2><p>This plugin extract CSS into separate files. It creates a CSS file per JS file which contains CSS. It supports On-Demand-Loading of CSS and SourceMaps;</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;mini-css-extract-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:8].css&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">//文件名  default: [name].css</span></span>
<span class="line"><span style="color:#F8F8F2;">    chunkFilename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:4].css&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// determines the name of non-entry chunks files</span></span>
<span class="line"><span style="color:#F8F8F2;">    attributes: { </span></span>
<span class="line"><span style="color:#88846F;">//if defined, mini-css-extract-plugin will attach given attributes </span></span>
<span class="line"><span style="color:#88846F;">//with their values on &lt;link&gt; element.It only applied to dynamically loaded css chunks</span></span>
<span class="line"><span style="color:#F8F8F2;">      id: </span><span style="color:#E6DB74;">&#39;hello&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;data-target&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;hello&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    insert: </span><span style="color:#E6DB74;">&#39;head&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#88846F;">// string / function</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    inserts the link tag at the given position for non-initial css chunks.</span></span>
<span class="line"><span style="color:#88846F;">    */</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    linkType: </span><span style="color:#E6DB74;">&#39;text/css&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// boolean (false disables the link type attribute)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    This option allows loading asynchronous chunks with a custom link type.</span></span>
<span class="line"><span style="color:#88846F;">    */</span></span>
<span class="line"><span style="color:#F8F8F2;">    ignoreOrder: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">// Enable to remove warnings about conflicting order</span></span>
<span class="line"><span style="color:#F8F8F2;">  })],</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [MiniCssExtractPlugin.loader, </span><span style="color:#E6DB74;">&quot;css-loader&quot;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> button </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;button&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">button.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;点击&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">button.</span><span style="color:#A6E22E;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;click&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;./print.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">d</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    d.</span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// print.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./css/print.css&#39;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">message</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(message)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下图是在点击按钮时 异步加载print.js文件 以及 在print.js中引入的css。</p><p><img src="`+p+'" alt="extract-plugin"></p><p><img src="'+o+`" alt="mini-css"></p><p><strong>Loader 选项</strong></p><p>publicPath: Specifies a custom public path for the external resources like images, files, Works like output.publicPath</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;mini-css-extract-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [{</span></span>
<span class="line"><span style="color:#F8F8F2;">          loader: MiniCssExtractPlugin.loader,</span></span>
<span class="line"><span style="color:#F8F8F2;">          options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            publicPath: </span><span style="color:#E6DB74;">&#39;/assets/&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins:[</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">()]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="minimizing-for-production" tabindex="-1"><a class="header-anchor" href="#minimizing-for-production" aria-hidden="true">#</a> Minimizing For Production</h3><p>To minify the output, use a plugin like css-minimizer-webpack-plugin</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;mini-css-extract-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CssMinimizerPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;css-minimizer-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: []</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:8].css&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunkFilename: </span><span style="color:#E6DB74;">&#39;[name].css&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimize: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 开发环境压缩css代码</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CssMinimizerPlugin</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上配置在 mode 为 production时 会压缩css. 如果想在开发环境下也压缩, 可以设置optimization.minimize 为true</p><h3 id="extracting-all-css-in-a-single-file" tabindex="-1"><a class="header-anchor" href="#extracting-all-css-in-a-single-file" aria-hidden="true">#</a> Extracting all CSS in a single file</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    splitChunks: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      cacheGroups: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        styles: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          name: </span><span style="color:#E6DB74;">&#39;styles&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          type: </span><span style="color:#E6DB74;">&#39;css/mini-extract&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          chunks: </span><span style="color:#E6DB74;">&#39;all&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          enforce: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="css-minimizer-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#css-minimizer-webpack-plugin" aria-hidden="true">#</a> css-minimizer-webpack-plugin</h2><p>这个插件使用cssnano优化和压缩css.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;mini-css-extract-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CssMinimizerPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;css-minimizer-webpack-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">.</span><span style="color:#E6DB74;">s</span><span style="color:#F92672;">?</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [MiniCssExtractPlugin.loader, </span><span style="color:#E6DB74;">&quot;css-loader&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;sass-loader&quot;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">    ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#88846F;">/*This will enable CSS optimization only in production mode</span></span>
<span class="line"><span style="color:#88846F;">  If you want to run it also in development set the optimization.minimize </span></span>
<span class="line"><span style="color:#88846F;">  option to true</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CssMinimizerPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;">/</span><span style="color:#AE81FF;">\\.</span><span style="color:#E6DB74;">css(</span><span style="color:#AE81FF;">\\?.</span><span style="color:#F92672;">*</span><span style="color:#E6DB74;">)</span><span style="color:#F92672;">?$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// test to match files against</span></span>
<span class="line"><span style="color:#F8F8F2;">        include:</span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// files to include</span></span>
<span class="line"><span style="color:#F8F8F2;">        exclude:</span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// files to exclude</span></span>
<span class="line"><span style="color:#F8F8F2;">        parallel: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">//  enable/disable multi-process parallel running.</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">()]</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="copy-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#copy-webpack-plugin" aria-hidden="true">#</a> copy-webpack-plugin</h2><p>Copies individual files or entire directories, which already exist, to the build directory.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CopyPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;copy-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CopyPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#F8F8F2;">          from: </span><span style="color:#E6DB74;">&#39;files&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">          context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      ]</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+i+`" alt="copy-plugin"></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">//...</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files/poem.txt&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files/poem.txt&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      priority: </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      force: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    },{</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files/hello.txt&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files/poem.txt&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      priority: </span><span style="color:#AE81FF;">20</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      force: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>priority</li></ol><p>Allows to specify the priority of copying files with the same destination name,Files for the patterns with higher priority will be copied later.</p><p><img src="`+c+`" alt="copy-priority"></p><ol start="2"><li>transform</li></ol><p>Allows to modify the file contents</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CopyPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#A6E22E;">transform</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">context</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> context.</span><span style="color:#A6E22E;">toString</span><span style="color:#F8F8F2;">() </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;12345&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+`" alt="copy-transform"></p><ol start="3"><li>concurrency</li></ol><p>limits the number of simultaneous requests to fs</p><h2 id="terser-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#terser-webpack-plugin" aria-hidden="true">#</a> terser-webpack-plugin</h2><p>如果使用webpack v5或者更高版本, 同时希望自定义配置, 那么仍需安装此插件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimize: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">TerserPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\\.</span><span style="color:#E6DB74;">js(</span><span style="color:#AE81FF;">\\?.</span><span style="color:#F92672;">*</span><span style="color:#E6DB74;">)</span><span style="color:#F92672;">?$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      include: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 匹配参与压缩的文件</span></span>
<span class="line"><span style="color:#F8F8F2;">      exclude: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// [/node_modules/] 排除</span></span>
<span class="line"><span style="color:#F8F8F2;">      extractComments: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 是否将注释玻璃到单独的文件中. *.LICENSE.txt</span></span>
<span class="line"><span style="color:#F8F8F2;">      terserOptions: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        format: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          comments: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">// 删除所有注释</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    })],</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="environmentplugin" tabindex="-1"><a class="header-anchor" href="#environmentplugin" aria-hidden="true">#</a> EnvironmentPlugin</h2><p>The EnvironmentPlugin is shorthand for using the DefinePlugin on p<wbr>rocess.env keys.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.</span><span style="color:#A6E22E;">EnvironmentPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      NODE_ENV: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// using development</span></span>
<span class="line"><span style="color:#F8F8F2;">      DEBUG: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// not specifying the environment variable raises an &#39;EnvironmentPlugin.\${key}&#39;, </span></span>
<span class="line"><span style="color:#88846F;">// environment variable is undefined error.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="limitchunkcountplugin" tabindex="-1"><a class="header-anchor" href="#limitchunkcountplugin" aria-hidden="true">#</a> LimitChunkCountPlugin</h2><p>While writing your code, you may have already added many code split points to load stuff on demand.After compiling you might notice that some chunks are too small - creating larget HTTP overhead. LimitChunkCountPlugin can post-process your chunks by merging them.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print1&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print.ts&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world1&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print2&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print2.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world2&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#88846F;">// ....</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print10&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print10.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world10&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#88846F;">// 在入口文件 点击按钮时 异步加载10个 js文件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> webpack </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;webpack&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.optimize.</span><span style="color:#A6E22E;">LimitChunkCountPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      maxChunks: </span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }),</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在没有配置 new webpack.optimize.LimigChunkCountPlugin时 network面板是这样的</p><p><img src="`+t+'" alt="chunk-count"></p><p>而在配置了限制生成chunk数量时, 点击按钮加载的js文件是下面这样的, 加上主入口chunk, 一共5个</p><p><img src="'+F+`" alt="chunk-count"></p><h3 id="minchunksizeplugin" tabindex="-1"><a class="header-anchor" href="#minchunksizeplugin" aria-hidden="true">#</a> MinChunkSizePlugin</h3><p>Keep chunk size above the specified limit by merging chunks that are smaller than the minChunkSize.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.optimize.</span><span style="color:#A6E22E;">MinChunkSizePlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  minChunkSize: </span><span style="color:#AE81FF;">10000</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// Minimum number of characters</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="resolve" tabindex="-1"><a class="header-anchor" href="#resolve" aria-hidden="true">#</a> Resolve</h2><p>这些选项能够设置模块如何被解析。</p><ol><li>alias</li></ol><p>创建 import 或者 require 的别名, 来确保模块引入变得更简单</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> path </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;path&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  resolve: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    alias: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;@&#39;</span><span style="color:#F8F8F2;">: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>resolve.enforceExtension</li></ol><p>如果是true, 将不允许无扩展名文件, 默认false</p><ol start="3"><li>extensions</li></ol><p>尝试按顺序解析这些后缀名。如果有多个文件有相同的名字，但后缀名不同，webpack 会解析列在数组首位的后缀的文件 并跳过其余的后缀。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  resolve: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    extensions: [</span><span style="color:#E6DB74;">&#39;.js&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;.jsx&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;.ts&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">    mainFiles: [</span><span style="color:#E6DB74;">&#39;index&#39;</span><span style="color:#F8F8F2;">],  </span><span style="color:#88846F;">// 解析目录时要使用的文件名</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// webpack解析模块时 应该搜索的目录</span></span>
<span class="line"><span style="color:#F8F8F2;">    modules: [path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">), </span><span style="color:#E6DB74;">&#39;node_modules&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>能够是用户在引入模块时不带扩展</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki monokai" style="background-color:#272822;" tabindex="0"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { print } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./print&#39;</span></span>
<span class="line"><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,65),v=[y];function u(m,b){return n(),a("div",null,v)}const g=s(d,[["render",u],["__file","plugin.html.vue"]]);export{g as default};
