import{_ as s,o as n,c as l,e as a}from"./app.084d5aed.js";const e={},p=a(`<h1 id="mobx" tabindex="-1"><a class="header-anchor" href="#mobx" aria-hidden="true">#</a> Mobx</h1><p>Mobx\u662F\u4E00\u4E2A\u7B80\u5355\u7684, \u72B6\u6001\u7BA1\u7406\u5E93\u3002Mobx\u6709\u4E09\u4E2A\u6838\u5FC3\u6982\u5FF5: State, Actions, \u548CDerivations. Mobx\u4F7F\u7528\u5355\u5411\u6570\u636E\u6D41, \u5229\u7528action \u6539\u53D8state, \u8FDB\u800C\u66F4\u65B0\u6240\u6709\u53D7\u5F71\u54CD\u7684view\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">npm install mobx </span><span style="color:#F92672;">--</span><span style="color:#F8F8F2;">save</span></span>
<span class="line"><span style="color:#88846F;">// mobx-react \u548C mobx-react-lite \u7528\u6765\u7ED1\u5B9A\u7EC4\u4EF6\u548CMobx\u6570\u636E\u72B6\u6001</span></span>
<span class="line"><span style="color:#F8F8F2;">npm install mobx</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">react </span><span style="color:#F92672;">--</span><span style="color:#F8F8F2;">save       </span><span style="color:#88846F;">// \u652F\u6301class\u7EC4\u4EF6\u548C\u51FD\u6570\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#F8F8F2;">npm install mobx</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">react</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">lite </span><span style="color:#F92672;">--</span><span style="color:#F8F8F2;">save  </span><span style="color:#88846F;">// \u4EC5\u652F\u6301\u51FD\u6570\u7EC4\u4EF6</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">//  \u4E00\u4E2AReact \u8BA1\u6570\u5668\u7EC4\u4EF6\u6848\u4F8B</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { makeObservable, action, observable } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;mobx&#39;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { observer } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;mobx-react-lite&#39;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">Counter</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.value </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">0</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// makeObservable \u53EF\u4EE5\u6355\u83B7\u5DF2\u7ECF\u5B58\u5728\u7684\u5BF9\u8C61\u5C5E\u6027\u5E76\u4E14\u4F7F\u5F97\u5B83\u4EEC\u53EF\u89C2\u5BDF\u3002</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">makeObservable</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">, {</span></span>
<span class="line"><span style="color:#F8F8F2;">      value: observable,  </span><span style="color:#88846F;">// \u5B9A\u4E49\u4E00\u4E2A\u53EF\u8FFD\u8E2A\u7684state\u5B57\u6BB5</span></span>
<span class="line"><span style="color:#F8F8F2;">      increment: action,  </span><span style="color:#88846F;">// \u5C06\u4E00\u4E2A\u65B9\u6CD5\u6807\u8BB0\u4E3A\u53EF\u4FEE\u6539state\u7684action</span></span>
<span class="line"><span style="color:#F8F8F2;">      decrement: action,</span></span>
<span class="line"><span style="color:#F8F8F2;">      double: computed</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// makeAutoObservable(this)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    computed \u8BA1\u7B97\u503C\u53EF\u4EE5\u7528\u6765\u4ECE\u5176\u4ED6\u53EF\u89C2\u5BDF\u5BF9\u8C61\u4E2D\u6D3E\u751F\u4FE1\u606F\u3002\u8BA1\u7B97\u503C\u91C7\u7528\u60F0\u6027\u6C42\u503C\u3002\u4F1A\u7F13\u5B58\u5176\u8F93\u51FA\u3002\u5E76\u4E14\u53EA\u6709\u5F53\u5176\u4F9D</span></span>
<span class="line"><span style="color:#88846F;">    \u8D56\u7684\u53EF\u89C2\u5BDF\u5BF9\u8C61\u88AB\u6539\u53D8\u65F6\u624D\u4F1A\u91CD\u65B0\u8BA1\u7B97\u3002</span></span>
<span class="line"><span style="color:#88846F;">    */</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.value </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">decrement</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.value </span><span style="color:#F92672;">-=</span><span style="color:#AE81FF;">1</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">get</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">double</span><span style="color:#F8F8F2;">() { </span><span style="color:#88846F;">// \u6807\u8BB0\u4E00\u4E2A\u7531state\u6D3E\u751F\u51FA\u65B0\u7684\u503C</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.value </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">2</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CounterView </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">observer</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">counter</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> counter.</span><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;+&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">counter.value</span><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> counter.</span><span style="color:#A6E22E;">decrement</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;-&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> counter </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Counter</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">root.</span><span style="color:#A6E22E;">render</span><span style="color:#F8F8F2;">(</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#66D9EF;font-style:italic;">CounterView</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">counter</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">counter</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// \u4E00\u4E2A\u8BA2\u9605\u5171\u540C\u7236\u7EA7\u6570\u636E\u7684\u6848\u4F8B</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CounterContext </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">createContext</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useCounter</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useContext</span><span style="color:#F8F8F2;">(CounterContext)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#88846F;">// \u5982\u679C\u7EC4\u4EF6\u6570\u636E\u8981\u66F4\u65B0, \u9700\u8981\u4F7F\u7528observer\u5305\u88F9</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CounterA </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">observer</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> c </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useCounter</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      counter a </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">c.value</span><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">      &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> c.</span><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;+&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  )</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CounterB </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">observer</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> c </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useCounter</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      counter b </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">c.value</span><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">      &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> c.</span><span style="color:#A6E22E;">decrement</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;-&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  )</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">ProviderComponent</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> ({</span><span style="color:#FD971F;font-style:italic;">children</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#66D9EF;font-style:italic;">CounterContext.Provider</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">value</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">counter</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;</span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">children</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&lt;/</span><span style="color:#66D9EF;font-style:italic;">CounterContext.Provider</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">createRoot</span><span style="color:#F8F8F2;">(document.</span><span style="color:#A6E22E;">querySelector</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;#root-state-app&#39;</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">root.</span><span style="color:#A6E22E;">render</span><span style="color:#F8F8F2;">(</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#66D9EF;font-style:italic;">ProviderComponent</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#66D9EF;font-style:italic;">CounterA</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#66D9EF;font-style:italic;">CounterB</span><span style="color:#F8F8F2;">/&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;/</span><span style="color:#66D9EF;font-style:italic;">ProviderComponent</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="makeobservable" tabindex="-1"><a class="header-anchor" href="#makeobservable" aria-hidden="true">#</a> makeObservable</h2><p>\u521B\u5EFA\u53EF\u89C2\u5BDF\u72B6\u6001\uFF0C\u5C5E\u6027, \u5BF9\u8C61, \u6570\u7EC4 , map \u90FD\u53EF\u4EE5\u88AB\u8F6C\u5316\u4E3A\u53EF\u89C2\u5BDF\u5BF9\u8C61\u3002\u4F7F\u5BF9\u8C61\u53D8\u5F97\u53EF\u89C2\u5BDF\u7684\u57FA\u672C\u65B9\u5F0F\u662F\u4F7F\u7528 makeObservable, \u4E3A\u6BCF\u4E2A\u5C5E\u6027\u6307\u5B9A\u4E00\u4E2A\u6CE8\u89E3\u3002</p><ol><li>observable: \u5B9A\u4E49\u4E00\u4E2A\u5B58\u50A8state\u7684\u53EF\u8FFD\u8E2A\u5B57\u6BB5</li><li>action: \u5C06\u4E00\u4E2A\u65B9\u6CD5\u6807\u8BB0\u4E3A\u53EF\u4EE5\u4FEE\u6539state\u7684action</li><li>computed: \u6807\u8BB0\u4E00\u4E2A\u53EF\u4EE5\u7531state\u6D3E\u751F\u51FA\u65B0\u7684\u503C</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">Counter</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.value </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">0</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">makeObservable</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">, {</span></span>
<span class="line"><span style="color:#F8F8F2;">      value: observable,</span></span>
<span class="line"><span style="color:#F8F8F2;">      double: computed,</span></span>
<span class="line"><span style="color:#F8F8F2;">      increment: action,</span></span>
<span class="line"><span style="color:#F8F8F2;">      fetch: flow</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">makeAutoObservable \u662F\u52A0\u5F3A\u7248\u7684makeObservable\uFF0C\u5B83\u4F1A\u63A8\u65AD\u6240\u6709\u5C5E\u6027\u7684\u6CE8\u89E3\u7C7B\u578B\u3002</span></span>
<span class="line"><span style="color:#88846F;">\u6BD4\u5982\u6240\u6709getters \u90FD\u6210\u4E3Acomputed, setters\u90FD\u6210\u4E3Aaction, \u81EA\u6709\u5C5E\u6027\u90FD\u6210\u4E3Aobservable\u7B49\u3002</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="actions" tabindex="-1"><a class="header-anchor" href="#actions" aria-hidden="true">#</a> Actions</h2><p>Mobx\u4E2D\u7684\u72B6\u6001\u4F7F\u7528 action \u6765\u66F4\u65B0</p><ol><li>action(\u6CE8\u89E3)</li><li>action(fn)</li><li>action(name, fn)</li></ol><p>action\u4E0D\u4EC5\u662F\u6CE8\u89E3, \u4E5F\u662F\u4E00\u4E2A\u5305\u88C5\u51FD\u6570\u3002 \u53EF\u4EE5\u7528\u6765\u521B\u5EFA\u57FA\u4E8Eaction\u7684\u4E8B\u4EF6\u5904\u7406\u51FD\u6570\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { observable, action } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&quot;mobx&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> state </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">observable</span><span style="color:#F8F8F2;">({ value: </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> increment </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">action</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    state.value</span><span style="color:#F92672;">++</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// \u5F02\u6B65\u66F4\u65B0\u6570\u636E\u65F6\u4F7F\u7528</span></span>
<span class="line"><span style="color:#A6E22E;">runInAction</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  state.value </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="observer" tabindex="-1"><a class="header-anchor" href="#observer" aria-hidden="true">#</a> Observer</h2><p>Observer\u662F\u4E00\u4E2AReact\u7EC4\u4EF6, \u5B83\u53EF\u4EE5\u7528\u6765\u8BA2\u9605Mobx\u7684\u6570\u636E\u66F4\u65B0, \u5B83\u63A5\u53D7\u4E00\u4E2A\u5355\u72EC\u7684, \u6CA1\u6709\u53C2\u6570\u7684\u51FD\u6570\u4F5C\u4E3A\u5B50\u51FD\u6570, \u8BE5\u51FD\u6570\u8FD4\u56DE\u4E00\u4E2AReact\u7EC4\u4EF6, \u53EF\u4EE5\u5728\u8BE5\u7EC4\u4EF6\u4E2D\u89E6\u53D1action, \u5E76\u83B7\u53D6\u6700\u65B0\u7684\u6570\u636E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CounterComponent</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> ({</span><span style="color:#FD971F;font-style:italic;">counter</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#66D9EF;font-style:italic;">Observer</span><span style="color:#F8F8F2;">&gt;</span><span style="color:#F92672;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">      () </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">counter.value</span><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">          &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> counter.</span><span style="color:#A6E22E;">decrement</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;decrement&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">          &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> counter.</span><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;increment&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      )</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&lt;/</span><span style="color:#66D9EF;font-style:italic;">Observer</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  )</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="uselocalobservable" tabindex="-1"><a class="header-anchor" href="#uselocalobservable" aria-hidden="true">#</a> useLocalObservable</h2><p>\u672C\u5730\u7684\u53EF\u4EE5\u89C2\u5BDF\u5BF9\u8C61\u72B6\u6001\u901A\u8FC7\u4F7F\u7528useLocalObservable\u94A9\u5B50\u5F15\u5165\u3002</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { useLocalObservable, Observer } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;mobx-react&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">App</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> todo </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useLocalObservable</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> ({</span></span>
<span class="line"><span style="color:#F8F8F2;">    title: </span><span style="color:#E6DB74;">&#39;Hello World&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    done: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">toggle</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.done </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">!</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.done</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }))</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> [ count, setCount ] </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">useState</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;</span><span style="color:#66D9EF;font-style:italic;">Observer</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> (&lt;</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">setCount</span><span style="color:#F8F8F2;">(count</span><span style="color:#F92672;">+</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;</span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">count</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">        &lt;</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">onClick</span><span style="color:#F92672;">={</span><span style="color:#F8F8F2;">todo.toggle</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&gt;</span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">todo.title</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">{</span><span style="color:#F8F8F2;">todo.done </span><span style="color:#F92672;">?</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;done&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">:</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;undo&#39;</span><span style="color:#F92672;">}</span><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">button</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">      &lt;/</span><span style="color:#F92672;">div</span><span style="color:#F8F8F2;">&gt;)</span><span style="color:#F92672;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">    &lt;/</span><span style="color:#66D9EF;font-style:italic;">Observer</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  )</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">const todo = useLocalObservable(() =&gt; {</span></span>
<span class="line"><span style="color:#88846F;">  console.log(&#39;render&#39;) \u53EA\u4F1A\u6267\u884C\u4E00\u6B21</span></span>
<span class="line"><span style="color:#88846F;">  return {</span></span>
<span class="line"><span style="color:#88846F;">    title: &#39;Hello World&#39;,</span></span>
<span class="line"><span style="color:#88846F;">    done: true,</span></span>
<span class="line"><span style="color:#88846F;">    toggle() {</span></span>
<span class="line"><span style="color:#88846F;">      this.done = !this.done</span></span>
<span class="line"><span style="color:#88846F;">    }</span></span>
<span class="line"><span style="color:#88846F;">  }</span></span>
<span class="line"><span style="color:#88846F;">})</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="autorun" tabindex="-1"><a class="header-anchor" href="#autorun" aria-hidden="true">#</a> Autorun</h2><p>autorun \u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570, \u6BCF\u5F53\u8BE5\u51FD\u6570\u89C2\u5BDF\u7684\u53C2\u6570\u503C\u53D1\u751F\u53D8\u5316\u65F6, \u90FD\u4F1A\u8FD0\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// \u4E00\u4E2A\u6765\u81EA\u5B98\u7F51\u7684\u4F8B\u5B50</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">name</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.name </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> name</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.energyLevel </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">100</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">makeAutoObservable</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">reduceEnergy</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.energyLevel </span><span style="color:#F92672;">-=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">10</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">get</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">isHungry</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.energyLevel </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">50</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> giraffe </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Animal</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Gary&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#A6E22E;">autorun</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Energy level:&quot;</span><span style="color:#F8F8F2;">, giraffe.energyLevel)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#A6E22E;">autorun</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> (giraffe.isHungry) {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Now I&#39;m hungry!&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  } </span><span style="color:#F92672;">else</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;I&#39;m not hungry!&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Now let&#39;s change state!&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">let</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">; i </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;">; i</span><span style="color:#F92672;">++</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  giraffe.</span><span style="color:#A6E22E;">reduceEnergy</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 100</span></span>
<span class="line"><span style="color:#88846F;">I&#39;m not hungry!</span></span>
<span class="line"><span style="color:#88846F;">Now let&#39;s change state!</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 90</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 80</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 70</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 60</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 50</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 40</span></span>
<span class="line"><span style="color:#88846F;">Now I&#39;m hungry!</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 30</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 20</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 10</span></span>
<span class="line"><span style="color:#88846F;">Energy level: 0</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u5728\u4E00\u4E2A\u8BA1\u6570\u5668counter\u7684\u6848\u4F8B\u4E2D,\u5982\u679Cautorun\u4E2D\u7684\u51FD\u6570\u6CA1\u6709\u8BFB\u53D6counter.value,\u90A3\u4E48\u5B83\u53EA\u4F1A\u6267\u884C\u4E00\u6B21.\u6BD4\u5982\u4E0B\u9762\u7684\u4EE3\u7801,\u53EA\u4F1A\u5728 autorun\u521B\u5EFA\u65F6\u6267\u884C\u4E00\u6B21\u3002\u6B63\u786E\u64CD\u4F5C\u662F\u5728 autorun\u4E2D \u8BFB\u53D6 counter.value</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#A6E22E;">autorun</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;i am changed&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#66D9EF;">setInterval</span><span style="color:#F8F8F2;">(() </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  counter.</span><span style="color:#A6E22E;">increment</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">}, </span><span style="color:#AE81FF;">1000</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,24),o=[p];function F(c,t){return n(),l("div",null,o)}var i=s(e,[["render",F],["__file","mobx.html.vue"]]);export{i as default};
