import{_ as s,o as n,c as a,e as l}from"./app.cae4c64a.js";const e={},p=l(`<h1 id="webcomponent" tabindex="-1"><a class="header-anchor" href="#webcomponent" aria-hidden="true">#</a> WebComponent</h1><p>Web Components \u662F\u4E00\u5957\u4E0D\u540C\u7684\u6280\u672F, \u5141\u8BB8\u521B\u5EFA\u53EF\u91CD\u7528\u7684\u5B9A\u5236\u5143\u7D20\u3002</p><h2 id="window-customelements" tabindex="-1"><a class="header-anchor" href="#window-customelements" aria-hidden="true">#</a> window.customElements</h2><p>window.customElements.define() \u5141\u8BB8\u6CE8\u518C\u4E00\u4E2Acustom element,</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;custom-element&#39;</span><span style="color:#F8F8F2;">, CustomElement)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4E0B\u9762\u662F\u4E00\u4E2A\u5B9E\u4F8B, \u6CE8\u518C\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u5143\u7D20</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">UserCard</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">extends</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline;">HTMLElement</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">super</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> img </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;img&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    img.width </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">100</span></span>
<span class="line"><span style="color:#F8F8F2;">    img.src </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;https://gimg2.baidu.com/image_search/src?xxx&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> container </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;div&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    container.style.cssText </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;width:100px;height:100px;padding:10px;border:1px solid #e8e8e8;&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> span </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;span&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    span.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;Hello, Kyrie&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    container.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(img, span)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(container)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;user-card&#39;</span><span style="color:#F8F8F2;">, UserCard)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u5728\u9875\u9762\u4E2D\u53EF\u4EE5\u901A\u8FC7 user-card \u7684\u65B9\u5F0F\u4F7F\u7528\u5B83, \u6216\u8005\u901A\u8FC7document.createElement(&#39;user-card&#39;)\u3002</p><p>\u81EA\u5B9A\u4E49\u5185\u7F6E\u5143\u7D20. window.customElements.define() \u63A5\u53D7\u4E09\u4E2A\u53C2\u6570, \u7B2C\u4E09\u4E2A\u53C2\u6570\u662F\u4E00\u4E2A\u5BF9\u8C61,\u7528\u6765\u6269\u5C55\u81EA\u5B9A\u4E49\u5143\u7D20</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">ExpandingParagraph</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">extends</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline;">HTMLParagraphElement</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    self </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">super</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.style.cssText </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;padding:0; margin: 0; color:red&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;expanding-paragraph&#39;</span><span style="color:#F8F8F2;">, ExpandingParagraph, {extends: </span><span style="color:#E6DB74;">&#39;p&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">p</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">is</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&#39;expanding-paragraph&#39;</span><span style="color:#F8F8F2;">&gt;&lt;/</span><span style="color:#F92672;">p</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u6837\u4F7F\u7528\u540E\u9875\u9762\u4E0A\u6E32\u67D3\u4E00\u4E2Ap\u6807\u7B7E,\u4F46\u662F\u6CA1\u6709\u9ED8\u8BA4\u7684padding\u548Cmargin, \u540C\u65F6\u5B57\u4F53\u4E5F\u53D8\u4E3A\u7EA2\u8272</p><h2 id="\u751F\u547D\u5468\u671F\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u751F\u547D\u5468\u671F\u51FD\u6570" aria-hidden="true">#</a> \u751F\u547D\u5468\u671F\u51FD\u6570</h2><p>\u5728custom element\u7684\u6784\u9020\u51FD\u6570\u4E2D, \u53EF\u4EE5\u6307\u5B9A\u591A\u4E2A\u4E0D\u540C\u7684\u56DE\u8C03\u51FD\u6570,\u5B83\u4EEC\u5C06\u4F1A\u5728\u5143\u7D20\u7684\u4E0D\u540C\u751F\u547D\u65F6\u671F\u88AB\u8C03\u7528:</p><ol><li>connectedCallback: \u5143\u7D20\u9996\u6B21\u88AB\u63D2\u5165\u5230\u6587\u6863DOM\u65F6\u88AB\u8C03\u7528\u3002</li><li>disconnectedCallback: \u5143\u7D20\u4ECEDOM\u4E2D\u5220\u9664\u88AB\u8C03\u7528</li><li>adoptedCallback: \u5F53\u5143\u7D20\u88AB\u79FB\u52A8\u5230\u65B0\u7684\u6587\u6863\u65F6\u88AB\u8C03\u7528</li><li>attributeChangedCallback: \u5F53\u5143\u7D20\u7684\u5C5E\u6027\u65B0\u589E \u5220\u9664 \u4FEE\u6539\u65F6\u88AB\u8C03\u7528\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">CustomSquare</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">extends</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline;">HTMLElement</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">static</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">get</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">observedAttributes</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39;c&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;l&#39;</span><span style="color:#F8F8F2;">]; </span><span style="color:#88846F;">// \u9700\u8981\u76D1\u542C\u7684\u5C5E\u6027\u53D8\u66F4</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">super</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> element </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;div&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    element.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;hello world!!!!!!!&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(element)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">connectedCallback</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;connectedCallback&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">disconnectedCallback</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;disconnectedCallback&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">attributeChangedCallback</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;attributeChangedCallback&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">updateStyle</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;custom-square&#39;</span><span style="color:#F8F8F2;">, CustomSquare)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> update_button </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">querySelector</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;.update-button&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">update_button.</span><span style="color:#A6E22E;">onclick</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> element </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">querySelector</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;custom-square&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  element.</span><span style="color:#A6E22E;">setAttribute</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;l&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">floor</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">random</span><span style="color:#F8F8F2;">()</span><span style="color:#F92672;">*</span><span style="color:#AE81FF;">100</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">  document.body.</span><span style="color:#A6E22E;">removeChild</span><span style="color:#F8F8F2;">(element)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shadow-dom" tabindex="-1"><a class="header-anchor" href="#shadow-dom" aria-hidden="true">#</a> Shadow DOM</h2><p>Shadow DOM\u5141\u8BB8\u5C06\u9690\u85CF\u7684DOM\u6811\u9644\u52A0\u5230\u5E38\u89C4\u7684DOM\u6811\u4E2D\u3002</p><p>Element.attachShadow() \u65B9\u6CD5\u5C06\u4E00\u4E2Ashadow root\u9644\u52A0\u5230\u4EFB\u4F55\u4E00\u4E2A\u5143\u7D20\u4E0A\u3002\u63A5\u53D7\u4E00\u4E2A\u914D\u7F6E\u5BF9\u8C61\u4F5C\u4E3A\u53C2\u6570,\u8BE5\u5BF9\u8C61\u6709\u4E00\u4E2Amode\u5C5E\u6027,\u53EF\u4EE5\u662Fopen \u6216\u8005closed\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> shadow </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> element.</span><span style="color:#A6E22E;">attachShadow</span><span style="color:#F8F8F2;">({mode: </span><span style="color:#E6DB74;">&#39;open&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> shadow </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> element.</span><span style="color:#A6E22E;">attachShadow</span><span style="color:#F8F8F2;">({mode: </span><span style="color:#E6DB74;">&#39;closed&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">PopUp</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">extends</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline;">HTMLElement</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">super</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> shadow </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">attachShadow</span><span style="color:#F8F8F2;">({mode: </span><span style="color:#E6DB74;">&#39;closed&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> span </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;span&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    span.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;hello world&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    span.classList.</span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;text&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> wrapper </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;div&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    wrapper.classList.</span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;wrapper&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> style </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;style&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    style.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">\`</span></span>
<span class="line"><span style="color:#E6DB74;">      .text {</span></span>
<span class="line"><span style="color:#E6DB74;">        position: relative;</span></span>
<span class="line"><span style="color:#E6DB74;">        color: red;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">      .text:hover {</span></span>
<span class="line"><span style="color:#E6DB74;">        color: red;</span></span>
<span class="line"><span style="color:#E6DB74;">        text-decoration: underline;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">      .wrapper {</span></span>
<span class="line"><span style="color:#E6DB74;">        position: absolute;</span></span>
<span class="line"><span style="color:#E6DB74;">        left:0;</span></span>
<span class="line"><span style="color:#E6DB74;">        top:0;</span></span>
<span class="line"><span style="color:#E6DB74;">        width: 200px;</span></span>
<span class="line"><span style="color:#E6DB74;">        height: 200px;</span></span>
<span class="line"><span style="color:#E6DB74;">        z-index: 20;</span></span>
<span class="line"><span style="color:#E6DB74;">        background-color: pink;</span></span>
<span class="line"><span style="color:#E6DB74;">        opacity: 0;</span></span>
<span class="line"><span style="color:#E6DB74;">        z-index: 10;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">      .text:hover .wrapper {</span></span>
<span class="line"><span style="color:#E6DB74;">        opacity: 1;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">    \`</span></span>
<span class="line"><span style="color:#F8F8F2;">    shadow.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(span)</span></span>
<span class="line"><span style="color:#F8F8F2;">    shadow.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(style)</span></span>
<span class="line"><span style="color:#F8F8F2;">    span.</span><span style="color:#A6E22E;">appendChild</span><span style="color:#F8F8F2;">(wrapper)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;pop-up&#39;</span><span style="color:#F8F8F2;">, PopUp)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="template" tabindex="-1"><a class="header-anchor" href="#template" aria-hidden="true">#</a> Template</h2><p>\u5728\u6784\u9020\u51FD\u6570\u4E2D\u521B\u5EFA\u5404\u79CD\u5143\u7D20\u6BD4\u8F83\u9EBB\u70E6, \u53EF\u4EE5\u901A\u8FC7template\u6A21\u7248\u8BED\u6CD5,\u5177\u6709\u66F4\u597D\u7684html\u6807\u7B7E\u5C42\u7EA7\u6548\u679C\u663E\u793A\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">id</span><span style="color:#F8F8F2;">=</span><span style="color:#E6DB74;">&quot;my-paragraph&quot;</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">  &lt;</span><span style="color:#F92672;">p</span><span style="color:#F8F8F2;">&gt;My paragraph&lt;/</span><span style="color:#F92672;">p</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">template</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">&lt;</span><span style="color:#F92672;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">MyParagraph</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">extends</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;font-style:italic;text-decoration:underline;">HTMLElement</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">super</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> template </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">getElementById</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;paragraph&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> content </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> template.content.</span><span style="color:#A6E22E;">cloneNode</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> shadow </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.</span><span style="color:#A6E22E;">attachShadow</span><span style="color:#F8F8F2;">({mode: </span><span style="color:#E6DB74;">&#39;closed&#39;</span><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> style </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;style&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    style.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">\`</span></span>
<span class="line"><span style="color:#E6DB74;">      .title {</span></span>
<span class="line"><span style="color:#E6DB74;">        color: red;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">      .content {</span></span>
<span class="line"><span style="color:#E6DB74;">        font-size: 18px;</span></span>
<span class="line"><span style="color:#E6DB74;">        color: pink;</span></span>
<span class="line"><span style="color:#E6DB74;">      }</span></span>
<span class="line"><span style="color:#E6DB74;">    \`</span></span>
<span class="line"><span style="color:#F8F8F2;">    shadow.</span><span style="color:#A6E22E;">append</span><span style="color:#F8F8F2;">(content, style)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">window.customElements.</span><span style="color:#A6E22E;">define</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;my-paragraph&#39;</span><span style="color:#F8F8F2;">, MyParagraph)</span></span>
<span class="line"><span style="color:#F8F8F2;">&lt;/</span><span style="color:#F92672;">script</span><span style="color:#F8F8F2;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24),o=[p];function c(t,F){return n(),a("div",null,o)}var i=s(e,[["render",c],["__file","web-component.html.vue"]]);export{i as default};
