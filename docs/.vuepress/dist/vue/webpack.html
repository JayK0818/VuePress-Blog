<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/code.png"><title>Webpack | 牧童的博客</title><meta name="description" content="Vuepress,JavaScript,Node.js,React.js,Vue.js,前端开发">
    <link rel="modulepreload" href="/assets/app.a286d625.js"><link rel="modulepreload" href="/assets/webpack.html.0d49f812.js"><link rel="modulepreload" href="/assets/webpack.html.fc84273d.js"><link rel="prefetch" href="/assets/index.html.a6583145.js"><link rel="prefetch" href="/assets/basis.html.fb5770e1.js"><link rel="prefetch" href="/assets/create-react-app.html.1be4f72b.js"><link rel="prefetch" href="/assets/hook.html.1ba64c09.js"><link rel="prefetch" href="/assets/redux.html.c8cdd02c.js"><link rel="prefetch" href="/assets/node_module.html.7b4d5fb9.js"><link rel="prefetch" href="/assets/index.html.fa52547d.js"><link rel="prefetch" href="/assets/data-transfer.html.b4c0f0a5.js"><link rel="prefetch" href="/assets/entry-and-version.html.82c7b814.js"><link rel="prefetch" href="/assets/global-api.html.c60f4dac.js"><link rel="prefetch" href="/assets/pinia.html.8d6d9ecd.js"><link rel="prefetch" href="/assets/vue-instance.html.83b8a7c3.js"><link rel="prefetch" href="/assets/array.html.89cf8dce.js"><link rel="prefetch" href="/assets/list.html.b0ef92c9.js"><link rel="prefetch" href="/assets/other.html.6482f48e.js"><link rel="prefetch" href="/assets/string.html.cbcd6949.js"><link rel="prefetch" href="/assets/tree.html.e641d835.js"><link rel="prefetch" href="/assets/bfc.html.e26747bd.js"><link rel="prefetch" href="/assets/box.html.859f28dc.js"><link rel="prefetch" href="/assets/center.html.f83f58e3.js"><link rel="prefetch" href="/assets/flex.html.eddd6466.js"><link rel="prefetch" href="/assets/float.html.cd66fc9b.js"><link rel="prefetch" href="/assets/grid.html.5f03f56e.js"><link rel="prefetch" href="/assets/mobile.html.62d92563.js"><link rel="prefetch" href="/assets/other.html.f2092ddb.js"><link rel="prefetch" href="/assets/pseudo.html.28c2a666.js"><link rel="prefetch" href="/assets/ajax.html.be0f3384.js"><link rel="prefetch" href="/assets/bom.html.61b4969a.js"><link rel="prefetch" href="/assets/code-snippet.html.f10a045c.js"><link rel="prefetch" href="/assets/concept.html.4d908a39.js"><link rel="prefetch" href="/assets/constructor-function.html.840c8b40.js"><link rel="prefetch" href="/assets/debounce-throttle.html.5afaae16.js"><link rel="prefetch" href="/assets/element.html.cf4e9478.js"><link rel="prefetch" href="/assets/event.html.d1b0467a.js"><link rel="prefetch" href="/assets/fetch.html.0e8c3b26.js"><link rel="prefetch" href="/assets/high-order-function.html.2cb22bc5.js"><link rel="prefetch" href="/assets/javascript-new-features.html.178ff3a4.js"><link rel="prefetch" href="/assets/javascript-route.html.4e7db026.js"><link rel="prefetch" href="/assets/javascript-skill.html.57db1e7f.js"><link rel="prefetch" href="/assets/json.html.f7efb475.js"><link rel="prefetch" href="/assets/node.html.d8b448dc.js"><link rel="prefetch" href="/assets/object.html.c0c1f3f9.js"><link rel="prefetch" href="/assets/promise.html.15bb8a61.js"><link rel="prefetch" href="/assets/index.html.9b01c192.js"><link rel="prefetch" href="/assets/scope-closure.html.56f04e9f.js"><link rel="prefetch" href="/assets/sort.html.7b7a48fa.js"><link rel="prefetch" href="/assets/this.html.8029eb8d.js"><link rel="prefetch" href="/assets/value-copy.html.f674c7f4.js"><link rel="prefetch" href="/assets/class.html.06f645d5.js"><link rel="prefetch" href="/assets/function.html.1730b869.js"><link rel="prefetch" href="/assets/narrowing.html.a930ca8f.js"><link rel="prefetch" href="/assets/object.html.9fad5bae.js"><link rel="prefetch" href="/assets/type-manipulation.html.6f83288e.js"><link rel="prefetch" href="/assets/types.html.1b6e973a.js"><link rel="prefetch" href="/assets/utility-type.html.3c4c8e55.js"><link rel="prefetch" href="/assets/tapable.html.48770eda.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.9145993b.js"><link rel="prefetch" href="/assets/basis.html.aae95c52.js"><link rel="prefetch" href="/assets/create-react-app.html.4b0c6d21.js"><link rel="prefetch" href="/assets/hook.html.b05e3fd3.js"><link rel="prefetch" href="/assets/redux.html.fed38419.js"><link rel="prefetch" href="/assets/node_module.html.b0e6bdfe.js"><link rel="prefetch" href="/assets/index.html.f9c9d6b4.js"><link rel="prefetch" href="/assets/data-transfer.html.cf541177.js"><link rel="prefetch" href="/assets/entry-and-version.html.41aeacaf.js"><link rel="prefetch" href="/assets/global-api.html.4bd8e613.js"><link rel="prefetch" href="/assets/pinia.html.149e5518.js"><link rel="prefetch" href="/assets/vue-instance.html.46d22a31.js"><link rel="prefetch" href="/assets/array.html.0a3cccb9.js"><link rel="prefetch" href="/assets/list.html.d5a521ee.js"><link rel="prefetch" href="/assets/other.html.4777dcf7.js"><link rel="prefetch" href="/assets/string.html.c4851566.js"><link rel="prefetch" href="/assets/tree.html.2daf7ee2.js"><link rel="prefetch" href="/assets/bfc.html.fdfeb9c9.js"><link rel="prefetch" href="/assets/box.html.573a95f7.js"><link rel="prefetch" href="/assets/center.html.6a2c01f6.js"><link rel="prefetch" href="/assets/flex.html.9fb977ff.js"><link rel="prefetch" href="/assets/float.html.50ec7de2.js"><link rel="prefetch" href="/assets/grid.html.89536272.js"><link rel="prefetch" href="/assets/mobile.html.6b27fd0f.js"><link rel="prefetch" href="/assets/other.html.b83e0ea6.js"><link rel="prefetch" href="/assets/pseudo.html.0ec18678.js"><link rel="prefetch" href="/assets/ajax.html.8ce3db34.js"><link rel="prefetch" href="/assets/bom.html.06385410.js"><link rel="prefetch" href="/assets/code-snippet.html.d6d4840e.js"><link rel="prefetch" href="/assets/concept.html.f339e251.js"><link rel="prefetch" href="/assets/constructor-function.html.55867d0e.js"><link rel="prefetch" href="/assets/debounce-throttle.html.0019f3bf.js"><link rel="prefetch" href="/assets/element.html.31d3fa62.js"><link rel="prefetch" href="/assets/event.html.156aa34c.js"><link rel="prefetch" href="/assets/fetch.html.f3fee3e4.js"><link rel="prefetch" href="/assets/high-order-function.html.db156b7a.js"><link rel="prefetch" href="/assets/javascript-new-features.html.a0952576.js"><link rel="prefetch" href="/assets/javascript-route.html.eaedec08.js"><link rel="prefetch" href="/assets/javascript-skill.html.c2b395ea.js"><link rel="prefetch" href="/assets/json.html.095e6dab.js"><link rel="prefetch" href="/assets/node.html.e26a893f.js"><link rel="prefetch" href="/assets/object.html.7a238030.js"><link rel="prefetch" href="/assets/promise.html.43bab358.js"><link rel="prefetch" href="/assets/index.html.76c20ace.js"><link rel="prefetch" href="/assets/scope-closure.html.deebd823.js"><link rel="prefetch" href="/assets/sort.html.1612ee36.js"><link rel="prefetch" href="/assets/this.html.38dbce90.js"><link rel="prefetch" href="/assets/value-copy.html.ea13c46f.js"><link rel="prefetch" href="/assets/class.html.8a455ea3.js"><link rel="prefetch" href="/assets/function.html.d1c446d6.js"><link rel="prefetch" href="/assets/narrowing.html.b715ac78.js"><link rel="prefetch" href="/assets/object.html.b50263c2.js"><link rel="prefetch" href="/assets/type-manipulation.html.27b0a31a.js"><link rel="prefetch" href="/assets/types.html.bef63c54.js"><link rel="prefetch" href="/assets/utility-type.html.66b65c68.js"><link rel="prefetch" href="/assets/tapable.html.8fd1450a.js"><link rel="prefetch" href="/assets/404.html.1761f532.js"><link rel="prefetch" href="/assets/404.025f96cd.js"><link rel="prefetch" href="/assets/Layout.8987b80a.js"><link rel="prefetch" href="/assets/Attribute.90ed106d.js"><link rel="prefetch" href="/assets/InsertBefore.fb91e629.js"><link rel="prefetch" href="/assets/Debounce.8d5d5933.js"><link rel="prefetch" href="/assets/ThrottleDelay.6c58f8f3.js"><link rel="prefetch" href="/assets/ThrottleImmediate.48f68e31.js"><link rel="prefetch" href="/assets/UseReducerCounter.a4b36891.js"><link rel="prefetch" href="/assets/index.03532f8e.js"><link rel="prefetch" href="/assets/Object.41232841.js"><link rel="prefetch" href="/assets/ModalButton.155b2df5.js"><link rel="prefetch" href="/assets/Event.d73d21fa.js"><link rel="prefetch" href="/assets/EventDelegation.5c8fc09c.js"><link rel="prefetch" href="/assets/EventBus.141ab9f3.js"><link rel="prefetch" href="/assets/State.73890672.js"><link rel="prefetch" href="/assets/Todos.59abf998.js"><link rel="prefetch" href="/assets/index.575589e0.js"><link rel="prefetch" href="/assets/BoxSize.6c7b4022.js"><link rel="prefetch" href="/assets/ScrollBottom.dbeed9f6.js"><link rel="prefetch" href="/assets/Father.b42915c9.js"><link rel="prefetch" href="/assets/Father.84431097.js"><link rel="prefetch" href="/assets/Father.1bb70dd5.js"><link rel="prefetch" href="/assets/Float.02bd8b80.js"><link rel="prefetch" href="/assets/FloatLayout.28331a12.js"><link rel="prefetch" href="/assets/FloatText.bfbcaf19.js"><link rel="prefetch" href="/assets/FloatSilence.57cfe9d7.js"><link rel="prefetch" href="/assets/Center.5191fd3a.js"><link rel="prefetch" href="/assets/RowCenter.58e59dad.js"><link rel="prefetch" href="/assets/Flex.1691c699.js"><link rel="prefetch" href="/assets/FlexColumn.78d7a12e.js"><link rel="prefetch" href="/assets/FlexGroup.ad5160c5.js"><link rel="prefetch" href="/assets/StickyFooter.c0f3fde2.js"><link rel="prefetch" href="/assets/Template.a21d5b4c.js"><link rel="prefetch" href="/assets/GridItems.edff6605.js"><link rel="prefetch" href="/assets/GridContent.425908a5.js"><link rel="prefetch" href="/assets/GridFlow.c7b98c3c.js"><link rel="prefetch" href="/assets/Before.b6e74987.js">
    <link rel="stylesheet" href="/assets/style.8ea801e0.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">牧童的博客</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/front-end/javascript/bom" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/vue/data-transfer/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-item"><a href="/react/create-react-app/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/front-end/javascript/bom" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/vue/data-transfer/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></div><div class="navbar-item"><a href="/react/create-react-app/" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active"> <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/vue/data-transfer.html" class="sidebar-item" aria-label="组件通信"><!--[--><!--]--> 组件通信 <!--[--><!--]--></a><!----></li><li><a href="/vue/pinia.html" class="sidebar-item" aria-label="Pinia"><!--[--><!--]--> Pinia <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#开始" class="router-link-active router-link-exact-active sidebar-item" aria-label="开始"><!--[--><!--]--> 开始 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#管理资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="管理资源"><!--[--><!--]--> 管理资源 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#style-loader-css-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="style-loader/css-loader"><!--[--><!--]--> style-loader/css-loader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#资源模块" class="router-link-active router-link-exact-active sidebar-item" aria-label="资源模块"><!--[--><!--]--> 资源模块 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/vue/webpack.html#代码分离" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码分离"><!--[--><!--]--> 代码分离 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#配置多个入口" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置多个入口"><!--[--><!--]--> 配置多个入口 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#splitchunksplugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="SplitChunksPlugin"><!--[--><!--]--> SplitChunksPlugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#动态导入" class="router-link-active router-link-exact-active sidebar-item" aria-label="动态导入"><!--[--><!--]--> 动态导入 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#prefetch-preload" class="router-link-active router-link-exact-active sidebar-item" aria-label="prefetch / preload"><!--[--><!--]--> prefetch / preload <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/vue/webpack.html#缓存" class="router-link-active router-link-exact-active sidebar-item" aria-label="缓存"><!--[--><!--]--> 缓存 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#fullhash" class="router-link-active router-link-exact-active sidebar-item" aria-label="fullhash"><!--[--><!--]--> fullhash <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#chunkhash" class="router-link-active router-link-exact-active sidebar-item" aria-label="chunkhash"><!--[--><!--]--> chunkhash <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#contenthash" class="router-link-active router-link-exact-active sidebar-item" aria-label="contenthash"><!--[--><!--]--> contenthash <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/vue/webpack.html#loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="Loader"><!--[--><!--]--> Loader <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#babel-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="babel-loader"><!--[--><!--]--> babel-loader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#style-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="style-loader"><!--[--><!--]--> style-loader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#css-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="css-loader"><!--[--><!--]--> css-loader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#sass-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="sass-loader"><!--[--><!--]--> sass-loader <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/vue/webpack.html#plugins" class="router-link-active router-link-exact-active sidebar-item" aria-label="Plugins"><!--[--><!--]--> Plugins <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/vue/webpack.html#html-webpack-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="html-webpack-plugin"><!--[--><!--]--> html-webpack-plugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#mini-css-extract-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="mini-css-extract-plugin"><!--[--><!--]--> mini-css-extract-plugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#css-minimizer-webpack-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="css-minimizer-webpack-plugin"><!--[--><!--]--> css-minimizer-webpack-plugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#copy-webpack-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="copy-webpack-plugin"><!--[--><!--]--> copy-webpack-plugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#terser-webpack-plugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="terser-webpack-plugin"><!--[--><!--]--> terser-webpack-plugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#environmentplugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="EnvironmentPlugin"><!--[--><!--]--> EnvironmentPlugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#limitchunkcountplugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="LimitChunkCountPlugin"><!--[--><!--]--> LimitChunkCountPlugin <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#minchunksizeplugin" class="router-link-active router-link-exact-active sidebar-item" aria-label="MinChunkSizePlugin"><!--[--><!--]--> MinChunkSizePlugin <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/vue/webpack.html#resolve" class="router-link-active router-link-exact-active sidebar-item" aria-label="Resolve"><!--[--><!--]--> Resolve <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#devserver" class="router-link-active router-link-exact-active sidebar-item" aria-label="DevServer"><!--[--><!--]--> DevServer <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/vue/webpack.html#开发环境和生产环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="开发环境和生产环境"><!--[--><!--]--> 开发环境和生产环境 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> Webpack</h1><h2 id="开始" tabindex="-1"><a class="header-anchor" href="#开始" aria-hidden="true">#</a> 开始</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode:</span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;app&#39;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;">// 基础目录,(绝对路径)</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">), </span><span style="color:#88846F;">// 入口</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: { </span><span style="color:#88846F;">// 出口</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    fullhash: compilation完整的hash值</span></span>
<span class="line"><span style="color:#88846F;">    id: 此chunk的id</span></span>
<span class="line"><span style="color:#88846F;">    name: 此chunk的名称</span></span>
<span class="line"><span style="color:#88846F;">    chunkhash: 此chunk的hash, 包含该chunk的所有元素</span></span>
<span class="line"><span style="color:#88846F;">    contenthash: 只包含该内容类型的元素</span></span>
<span class="line"><span style="color:#88846F;">    chunkFilename: 非初始 chunk文件的名称, 这些文件名需要在运行时根据chunk发送的请求去生成。</span></span>
<span class="line"><span style="color:#88846F;">    */</span></span>
<span class="line"><span style="color:#F8F8F2;">    chunkLoading: </span><span style="color:#E6DB74;">&#39;jsonp&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 加载chunk的方法(jsonp(web) import(ESM))</span></span>
<span class="line"><span style="color:#F8F8F2;">    clean: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 在生成文件之前清空output目录</span></span>
<span class="line"><span style="color:#F8F8F2;">    publicPath: </span><span style="color:#E6DB74;">&#39;&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 按需加载或加载外部资源 每个url的前缀</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output.filename 的文件 hash长度 可以使用 hash:16 contenthash:16等指定, 或者通过指定 output.hashDigestLength 在全局配置长度。</p><h2 id="管理资源" tabindex="-1"><a class="header-anchor" href="#管理资源" aria-hidden="true">#</a> 管理资源</h2><h3 id="style-loader-css-loader" tabindex="-1"><a class="header-anchor" href="#style-loader-css-loader" aria-hidden="true">#</a> style-loader/css-loader</h3><p>模块loader可以链式调用。链中的每个loader都将对资源进行转换。链会逆序执行。第一个loader将其结果传递给 下一个loader,依此类推。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// style-loader  Inject CSS into the DOM</span></span>
<span class="line"><span style="color:#88846F;">//在背后使用了module.hot.accpet,在css依赖模块更新之后,会将其patch到&lt;style&gt;标签中</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// src/index.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./style.css&#39;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> div </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;div&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  div.classList.</span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;item&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  div.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;你好生活&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> div</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F8F8F2;">document.body.</span><span style="color:#A6E22E;">appendChild</span><span style="color:#F8F8F2;">(</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;bundle.js&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use:[</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="资源模块" tabindex="-1"><a class="header-anchor" href="#资源模块" aria-hidden="true">#</a> 资源模块</h3><p>资源模块(asset module)是一种模块类型, 它允许使用资源文件(字体,图标等), 而无需配置额外的loader.</p><ol><li>asset/resource: 发送一个单独的文件并导出URL.</li><li>asset/inline: 导出一个资源的data URI</li><li>asset/source: 导出资源的源代码</li><li>asset: 在导出一个data URI 和 发送一个单独的文件之间自动选择。小于8kb的文件,将会视为inline模块类型。</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">(png</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">webp</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">jpg</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">jpeg)</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        type: </span><span style="color:#E6DB74;">&#39;asset/source&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// &#39;asset/resource&#39; &#39;asset/inline&#39; &#39;asset&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面是分别按照 inline / resource / source的方式配置 打包后的结果。</p><ol><li>asset/inline</li></ol><p><img src="/assets/asset-inline.0c17707e.png" alt="asset/inline"></p><ol start="2"><li>asset/resource</li></ol><p><img src="/assets/asset-resource.7a883fde.png" alt="asset/resource"></p><ol start="3"><li>asset/source</li></ol><p><img src="/assets/asset-source.c2053248.png" alt="asset/source"></p><p>默认情况下, asset/resource 模块以[hash][ext][query] 文件名发送到输出目录,可以在webpack配置中设置output.assetMoudleFilename来修改模板字符串</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    assetModuleFilename: </span><span style="color:#E6DB74;">&#39;images/[hash][ext][query]&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack按照 type:&#39;asset&#39; 打包资源文件时,自动地在 resource 和 inline之间进行选择: 小于8kb的文件,将会视为inline模块类型, 否则会被视为resource模块类型。 可以通过 选项 parser.dataUrlCondition.maxSize 配置。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">png</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        type: </span><span style="color:#E6DB74;">&#39;asset&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        parser: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          dataUrlCondition: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            maxSize: </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">1024</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 1024kb</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="代码分离" tabindex="-1"><a class="header-anchor" href="#代码分离" aria-hidden="true">#</a> 代码分离</h2><p>代码分离是把代码分离到不同的bundle中, 然后可以按需加载或并行加载这些文件。代码分离可以获取更小的bundle.</p><p>常用的代码分离方法有三种:</p><ol><li>入口起点: 使用entry 配置手动的分离代码</li><li>防止重复: 使用SplitChunksPlugin 去重和分离chunk</li><li>动态导入: 通过模块的内联函数调用分离代码</li></ol><h3 id="配置多个入口" tabindex="-1"><a class="header-anchor" href="#配置多个入口" aria-hidden="true">#</a> 配置多个入口</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#88846F;">// - 多个入口</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    main: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/main.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    clean: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面配置会将bundle打包成 app.bundle.js 和 main.bundle.js, 但是会有一个问题, 两个入口文件中都引入了lodash, 这样配置会在两个bundle中造成重复引用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      import: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      dependOn: </span><span style="color:#E6DB74;">&#39;shared&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    main: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      import:  path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/main.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      dependOn: </span><span style="color:#E6DB74;">&#39;shared&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    shared: </span><span style="color:#E6DB74;">&#39;lodash&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="splitchunksplugin" tabindex="-1"><a class="header-anchor" href="#splitchunksplugin" aria-hidden="true">#</a> SplitChunksPlugin</h3><p>可以将公共的依赖模块提取到已有的入口chunk中。或者提取到一个新生成的chunk.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ... </span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    main: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/main.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    clean: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    splitChunks: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunks: </span><span style="color:#E6DB74;">&#39;all&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="动态导入" tabindex="-1"><a class="header-anchor" href="#动态导入" aria-hidden="true">#</a> 动态导入</h3><p>使用import()语法来实现动态导入</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// main.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">message</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(message)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">default</span><span style="color:#F8F8F2;"> print</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> button </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;button&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">button.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;click&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">button.</span><span style="color:#A6E22E;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;click&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./main.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">fn</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(fn)</span></span>
<span class="line"><span style="color:#F8F8F2;">    fn.</span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"><span style="color:#F8F8F2;">}, </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">document.body.</span><span style="color:#A6E22E;">appendChild</span><span style="color:#F8F8F2;">(button)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    splitChunks: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunks: </span><span style="color:#E6DB74;">&#39;all&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当点击button按钮的时候, 会异步加载 print.bundle.js 文件, 默认导出的函数 挂载 在 对象的default 属性上</p><p><img src="/assets/code-spliting.b522acd5.png" alt="code-spliting"></p><h3 id="prefetch-preload" tabindex="-1"><a class="header-anchor" href="#prefetch-preload" aria-hidden="true">#</a> prefetch / preload</h3><p>prefetch(预获取) / preload (预加载)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackPrefetch: true*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./util/index.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>prefetch: 只要父chunk完成加载, webpack就会添加prefetch hint(预取指示)</p><p>preload:</p><ol><li>preload chunk 会在父chunk加载时, 以并行方式开始加载. 而prefetch chunk会在父chunk加载结束后开始加载</li><li>preload chunk 具有中等优先级, 并立即下载。 prefetch chunk会在浏览器闲置时下载</li><li>preload chunk会在父chunk中立即请求,用于当下时刻, prefetch chunk会用于未来的某个时刻。</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// src/index.js </span></span>
<span class="line"><span style="color:#88846F;">// 改造一下上面的例子</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackPrefetch: true*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./main.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">fn</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  fn.</span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">//会在html 生成下面的 引用</span></span>
<span class="line"><span style="color:#88846F;">//&lt;link rel=&quot;prefetch&quot; as=&quot;script&quot; href=&quot;http://localhost:9098/src_main_js.bundle.js&quot;&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="缓存" tabindex="-1"><a class="header-anchor" href="#缓存" aria-hidden="true">#</a> 缓存</h2><p>命中缓存可以降低网络流量, 使网站加载速度更快。</p><p>webapck提供了一种称为 substitution(可替换模板字符串)的方式, 通过带括号字符串来模板化文件名。 其中, [contenthash] substitution将根据资源内容创建出唯一hash. 当资源内容发生变化时,[contenthash]也会发生改变。</p><p>在介绍 hash 之前先介绍一下 contenthash fullhash 和 chunkhash 之间的区别</p><h3 id="fullhash" tabindex="-1"><a class="header-anchor" href="#fullhash" aria-hidden="true">#</a> fullhash</h3><p>之前是hash --&gt; 现在值改为了fullhash</p><p>如果使用hash的话, 每次修改任何一个文件, 所有打包生成的文件名hash都会改变, 所以一旦修改了任何一个文件, 整个项目的缓存都将失效。</p><p><img src="/assets/full-hash.a35f57e3.png" alt="full-hash"> 上图 是 打包后的结果,可以看到 bundle.js 和分离出来的 css文件 hash值都是一致的, 修改其中一个文件的内容再次打包 :</p><p><img src="/assets/full-hash-change.f79bd958.png" alt="full-hash-change"></p><p>上图可以看到 仅更改一个文件, 所有的文件名hash值都已发生改变。</p><h3 id="chunkhash" tabindex="-1"><a class="header-anchor" href="#chunkhash" aria-hidden="true">#</a> chunkhash</h3><p>chunkhash是根据不同的入口文件进行依赖文件解析,构建对应的chunk。生成对应的hash值。将上面的demo文件名改为 chunkhash 再次打包:</p><p><img src="/assets/chunk-hash.a8885074.png" alt="chunkhash"></p><p>不同的bundle 的hash值不一致, 但是css文件是作为模块引入到Javascript中的, 所以对应的css文件hash 和 bundle.js hash值一致。</p><p>这样就产生了一个问题：如果仅修改js文件 但是不修改css文件, 或者只修改css文件 不修改 js文件, 会导致两者的 hash值都发生改变。</p><p>下图 左 和 图右 分别是 修改了 main.js 和 main.css文件后打包后的结果 可以发现 app.js 和 app.css文件hash值没有发生改变, 但是 main.js 和main.css 文件hash 都 发生改变了.</p><p><img src="/assets/chunkhash-change.8d269179.png" alt="chunkhash-change"></p><h3 id="contenthash" tabindex="-1"><a class="header-anchor" href="#contenthash" aria-hidden="true">#</a> contenthash</h3><p>contenthash 将根据资源内容创建出唯一 hash。当资源内容发生变化时,contenthash 也会发生变化。</p><p><img src="/assets/contenthash.6fffc7fa.png" alt="contenthash"></p><p>上图只更改了main.js文件, 打包前后只有main.bundle.js hash值发生了改变。</p><p>webpack还提供了一个优化功能,可以使用optimization.runtimeChunk 选项将runtime代码拆分为一个单独的chunk. 将其设置为 single为所有chunk创建一个runtime bundle.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization:{</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>runtimeChunk 指的是webpack的运行环境和模块信息清单, 模块信息清单在每次有模块变更hash时 都会变。将这部分内容单独打包出来, 就不会因为某个模块的变更导致模块信息的模块缓存失效.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// index.js中异步导入了一个js文件 print.js</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:8].bundle.js&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    clean: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时, 更新index.js文件, 只有app.js的hash值会改变, 而如果更改 print.js 则 print.bundle.js和 runtime.bundle.js hash值都将更改。</p><ol><li><p>第一次打包的结果 <img src="/assets/cache-1.b383b290.png" alt="cache-1"></p></li><li><p>更改index.js后打包结果 <img src="/assets/cache-2.936d27e7.png" alt="cache-2"></p></li><li><p>更改print.js后打包结果 <img src="/assets/cache-3.e04f9847.png" alt="cache-3"></p></li></ol><h2 id="loader" tabindex="-1"><a class="header-anchor" href="#loader" aria-hidden="true">#</a> Loader</h2><h3 id="babel-loader" tabindex="-1"><a class="header-anchor" href="#babel-loader" aria-hidden="true">#</a> babel-loader</h3><p>此loader 允许你使用 Babel 和 webpack 转译JavaScript文件。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// install</span></span>
<span class="line"><span style="color:#F8F8F2;">npm install </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">D babel</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">loader @babel</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">core @babel</span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;">preset</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">env</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">m</span><span style="color:#F92672;">?</span><span style="color:#E6DB74;">js</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        exclude:</span><span style="color:#E6DB74;"> /(node_modules)/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          loader: </span><span style="color:#E6DB74;">&#39;babel-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            presets: [</span><span style="color:#E6DB74;">&#39;@babel/preset-env&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// math.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">square</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">pow</span><span style="color:#F8F8F2;">(x, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">cube</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> (</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">pow</span><span style="color:#F8F8F2;">(x, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;text-decoration:underline;">Player</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">constructor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">name</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.name </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> name;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">cube</span><span style="color:#F8F8F2;">(x)</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">export</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  square,</span></span>
<span class="line"><span style="color:#F8F8F2;">  cube,</span></span>
<span class="line"><span style="color:#F8F8F2;">  Player</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// 上面三个方法经过babel转译后，变成了下面的代码</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">var</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">square</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">square</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">pow</span><span style="color:#F8F8F2;">(x, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">var</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">cube</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">cube</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">Math</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;">pow</span><span style="color:#F8F8F2;">(x, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">var</span><span style="color:#F8F8F2;"> Player </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">/*#__PURE__*/</span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> () {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">Player</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">name</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">_classCallCheck</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">, Player);</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#FD971F;">this</span><span style="color:#F8F8F2;">.name </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> name;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">_createClass</span><span style="color:#F8F8F2;">(Player, [{</span></span>
<span class="line"><span style="color:#F8F8F2;">    key: </span><span style="color:#E6DB74;">&quot;add&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">value</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">cube</span><span style="color:#F8F8F2;">(x);</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }]);</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> Player;</span></span>
<span class="line"><span style="color:#F8F8F2;">}();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="style-loader" tabindex="-1"><a class="header-anchor" href="#style-loader" aria-hidden="true">#</a> style-loader</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// injectType: allows to setup how styles will be injected into the DOM</span></span>
<span class="line"><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">default: styleTag</span></span>
<span class="line"><span style="color:#88846F;">singletonStyleTag: Automatically injects styles into the DOM using one &lt;style&gt;</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// lazyStyleTag:</span></span>
<span class="line"><span style="color:#88846F;">// injects styles into the DOM using multiple &lt;style&gt;&lt;/style&gt; on demand.</span></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        exclude:</span><span style="color:#E6DB74;">/</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">lazy</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use:[</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">lazy</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use:[</span></span>
<span class="line"><span style="color:#F8F8F2;">          {</span></span>
<span class="line"><span style="color:#F8F8F2;">            loader: </span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">              injectType: </span><span style="color:#E6DB74;">&#39;lazyStyleTag&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">            }</span></span>
<span class="line"><span style="color:#F8F8F2;">          },</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">        ]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>attributes: the style-loader will attach given attributes with their values on style element</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// ... </span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  use: [{</span></span>
<span class="line"><span style="color:#F8F8F2;">    loader: </span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      attributes: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        id: </span><span style="color:#AE81FF;">123</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }, </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/style-loader-attributes.b814b290.png" alt="attributes"></p><ul><li>insert: default: head 指定style标签插入的位置</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  use:[{</span></span>
<span class="line"><span style="color:#F8F8F2;">    loader:</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      insert: </span><span style="color:#E6DB74;">&#39;body&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/style-loader-insert.f5a4bed1.png" alt="insert"></p><ul><li>Source maps</li></ul><p>The loader automatically inject source maps when previous loader emit them. Therefore,to generate source maps, set the sourceMap option to true for the previous loader</p><h3 id="css-loader" tabindex="-1"><a class="header-anchor" href="#css-loader" aria-hidden="true">#</a> css-loader</h3><p>The css-loader interprets @import and url() and will resolve them.</p><h4 id="url-boolean-object" tabindex="-1"><a class="header-anchor" href="#url-boolean-object" aria-hidden="true">#</a> url: Boolean / Object</h4><p>Enable/disable url() resolving</p><h4 id="import-boolean-object" tabindex="-1"><a class="header-anchor" href="#import-boolean-object" aria-hidden="true">#</a> import: Boolean / Object</h4><p>allows to enables/disables @import at-rules handing.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">  {</span></span>
<span class="line"><span style="color:#F8F8F2;">    test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    loader: </span><span style="color:#E6DB74;">&quot;css-loader&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      url: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// boolean  设置为false 无法解析背景图片url地址 (本地资源路径)</span></span>
<span class="line"><span style="color:#F8F8F2;">      url: { </span><span style="color:#88846F;">// object</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#A6E22E;">filter</span><span style="color:#F8F8F2;">: (</span><span style="color:#FD971F;font-style:italic;">url</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">resourcePath</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;">(url.</span><span style="color:#A6E22E;">includes</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;webp&#39;</span><span style="color:#F8F8F2;">)) { </span><span style="color:#88846F;">// 不会处理webp文件 （本地资源路径）</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span><span style="color:#F92672;">else</span><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">false</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">      import: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// default: false</span></span>
<span class="line"><span style="color:#F8F8F2;">      import: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#A6E22E;">filter</span><span style="color:#F8F8F2;">: (</span><span style="color:#FD971F;font-style:italic;">url</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">media</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">resourcePath</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;">(url.</span><span style="color:#A6E22E;">includes</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;style.css&#39;</span><span style="color:#F8F8F2;">)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">false</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>import设置为false时, 浏览器会报警告。</p><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>Refused to apply style from &#39;http://localhost:9008/index.css&#39; because its MIME type (&#39;text/html&#39;) is not a supported stylesheet MIME type, and strict MIME checking is enabled.</p></div><h4 id="modules" tabindex="-1"><a class="header-anchor" href="#modules" aria-hidden="true">#</a> modules</h4><p>Allows to enable/disable CSS Modules</p><p>default: undefined</p><ol><li><p>undefined: enable CSS modules for all files matching /.module.\w+$/i.test(filename)</p></li><li><p>true: enable CSS modules for all files</p></li><li><p>false: disable CSS modules for all files</p></li><li><p>string: disables CSS modules for all files and set the mode option.</p></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// index.js  入口</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./css/index.module.css&#39;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./css/index.css&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">  rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">      test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      use: [</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,{</span></span>
<span class="line"><span style="color:#F8F8F2;">        loader: </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          modules: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// defualt</span></span>
<span class="line"><span style="color:#F8F8F2;">          modules: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          modules: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            auto: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">//enable CSS modules for all files</span></span>
<span class="line"><span style="color:#F8F8F2;">            auto: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 匹配 module.css的文件</span></span>
<span class="line"><span style="color:#F8F8F2;">            auto: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// disable CSS modules</span></span>
<span class="line"><span style="color:#F8F8F2;">            auto:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">module</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css/</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// enable CSS modules for all files matching </span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#A6E22E;">auto</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">resourcePath</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#F92672;">if</span><span style="color:#F8F8F2;">(resourcePath.</span><span style="color:#A6E22E;">includes</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;index&#39;</span><span style="color:#F8F8F2;">)) { </span><span style="color:#88846F;">// 过滤掉所有文件名包含index的文件</span></span>
<span class="line"><span style="color:#F8F8F2;">                </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">false</span></span>
<span class="line"><span style="color:#F8F8F2;">              }</span></span>
<span class="line"><span style="color:#F8F8F2;">              </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">            },</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }]</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>默认情况下(undefined), 只会处理 结尾为module.css结尾的文件 <img src="/assets/css-loader-modules-undefined.016df270.png" alt="css-loader-modules-undefined"></p><p>设置为true时, 处理所有的CSS文件 <img src="/assets/css-loader-modules-true.c1fb9110.png" alt="css-loader-modules-true"></p><h4 id="mode" tabindex="-1"><a class="header-anchor" href="#mode" aria-hidden="true">#</a> mode</h4><p>CSS modules 允许使用:global(.className)的语法, 声明一个全局规则。凡是这样声明的class, 都不会被编译成哈希字符串。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  use:[</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">, {</span></span>
<span class="line"><span style="color:#F8F8F2;">    loader: </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// Using `local` value has same effect like using &#39;modules:true&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// 所有文件类名都不会被编译为哈希字符串 使用:local 的css 会会编译为 哈希类名</span></span>
<span class="line"><span style="color:#F8F8F2;">      modules: </span><span style="color:#E6DB74;">&#39;global&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      modules: </span><span style="color:#E6DB74;">&#39;local&#39;</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">// 所有文件类名都会被编译为哈希字符串 但是使用:global 的 css 除外</span></span>
<span class="line"><span style="color:#F8F8F2;">      localIdentName: </span><span style="color:#E6DB74;">&#39;[hash:base64:8]&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">//hash clss 生成的规则</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// name: 文件名</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// folder 文件夹名称</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// path 文件夹的相对路径</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// file filename and path</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// hash hash字符串</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// local : original class 转换前的类名</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// Allows to redefine basic loader context for local ident name</span></span>
<span class="line"><span style="color:#F8F8F2;">      localIdentContext: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/css&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// Allows to specify hash function to generate classes. </span></span>
<span class="line"><span style="color:#F8F8F2;">      localIdentHashFunction: </span><span style="color:#E6DB74;">&#39;md4&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// Allows to specify hash digest length to generate class</span></span>
<span class="line"><span style="color:#F8F8F2;">      localIdentHashDigestLength: </span><span style="color:#AE81FF;">28</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">      hashStrategy: </span><span style="color:#E6DB74;">&#39;resource-path-and-local-name&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 生成has的策略</span></span>
<span class="line"><span style="color:#F8F8F2;">    }]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="importloaders" tabindex="-1"><a class="header-anchor" href="#importloaders" aria-hidden="true">#</a> importLoaders</h4><p>The options importLoaders allows you to configure how many loaders before css-loader shoule be applied to @import ed resources and CSS modules imports</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use:[</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">, {</span></span>
<span class="line"><span style="color:#F8F8F2;">          loader: </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            importLoaders: </span><span style="color:#AE81FF;">2</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;">// 0 =&gt; no loaders (default);</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;">// 1 =&gt; postcss-loader;</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span><span style="color:#88846F;">// 2 =&gt; postcss-loader, sass-loader</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        },</span><span style="color:#E6DB74;">&#39;postcss-loader&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;sass-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/css-loader-modules-hash.557160dd.png" alt="css-loader-modules-hash"></p><h3 id="sass-loader" tabindex="-1"><a class="header-anchor" href="#sass-loader" aria-hidden="true">#</a> sass-loader</h3><p>加载sass/scss文件并编译为css.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// install</span></span>
<span class="line"><span style="color:#F8F8F2;">npm install sass</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">loader sass </span><span style="color:#F92672;">--</span><span style="color:#F8F8F2;">save</span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">dev</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">(scss</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">css)</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#88846F;">// 将 Sass 编译成 CSS</span></span>
<span class="line"><span style="color:#F8F8F2;">          {</span></span>
<span class="line"><span style="color:#F8F8F2;">            loader: </span><span style="color:#E6DB74;">&#39;sass-loader&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">              sourceMap: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// enable/disable source map</span></span>
<span class="line"><span style="color:#F8F8F2;">              sassOptions: {</span></span>
<span class="line"><span style="color:#F8F8F2;">                indentWidth: </span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 空格数量</span></span>
<span class="line"><span style="color:#F8F8F2;">              }</span></span>
<span class="line"><span style="color:#F8F8F2;">            }</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        ]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins" aria-hidden="true">#</a> Plugins</h2><h3 id="html-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#html-webpack-plugin" aria-hidden="true">#</a> html-webpack-plugin</h3><p>This is a webpack plugin that simplifies creation of HTML files to serve your webpack bundles. This is especially useful for webpack bundles that includes a hash in the filename which changes every compilation.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> HtmlWebpackPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">HtmlWebpackPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      title: </span><span style="color:#E6DB74;">&#39;html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// document.title   default: Webpack App</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// filename: &#39;about.html&#39;,  //     default: index.html</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// filename: &#39;[name].html&#39;,  // 根据入口名字生成</span></span>
<span class="line"><span style="color:#F8F8F2;">      template: path.</span><span style="color:#A6E22E;">join</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/template.html&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      inject: </span><span style="color:#E6DB74;">&#39;body&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// true | head | body | false</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">      inject all assets into the given template or templateContent.</span></span>
<span class="line"><span style="color:#88846F;">      body: all javascript resources will be placed at the bottom of the body element</span></span>
<span class="line"><span style="color:#88846F;">      head: will place the scripts in the head element</span></span>
<span class="line"><span style="color:#88846F;">      true: will add it to the head/body depending on the scriptLoading option.</span></span>
<span class="line"><span style="color:#88846F;">      false: will disable automatic injections</span></span>
<span class="line"><span style="color:#88846F;">      */</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// publicPath: &#39;/assets/&#39;,  </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// index.html 引用的资源路径 used for script and link tags</span></span>
<span class="line"><span style="color:#F8F8F2;">      scriptLoading: </span><span style="color:#E6DB74;">&#39;blocking&#39;</span><span style="color:#F8F8F2;">,   </span><span style="color:#88846F;">// blocking defer module</span></span>
<span class="line"><span style="color:#F8F8F2;">      favicon: path.</span><span style="color:#A6E22E;">join</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/icon.svg&#39;</span><span style="color:#F8F8F2;">),  </span><span style="color:#88846F;">// icon图标</span></span>
<span class="line"><span style="color:#F8F8F2;">      minify: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// true if mode is &#39;production&#39; otherwise false</span></span>
<span class="line"><span style="color:#F8F8F2;">      hash: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 引入的 js css文件名后带hash值  </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// if true then append a unique webpack compilation hash to all </span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// included scripts and css files</span></span>
<span class="line"><span style="color:#F8F8F2;">      cache: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunks: [</span><span style="color:#E6DB74;">&#39;app&#39;</span><span style="color:#F8F8F2;">], </span><span style="color:#88846F;">// Allows you to add only some chunks</span></span>
<span class="line"><span style="color:#F8F8F2;">      meta: {     </span><span style="color:#88846F;">// allows to inject meta tags</span></span>
<span class="line"><span style="color:#F8F8F2;">        viewport: </span><span style="color:#E6DB74;">&#39;width=device-width,initial-scale=1&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        content: </span><span style="color:#E6DB74;">&#39;webpack,html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        keywords: </span><span style="color:#E6DB74;">&#39;webpack&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#E6DB74;">&#39;theme-color&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;#4285f4&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// base: &#39;http://192.168.0.141:8080&#39;, will inject a base tag </span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/html-webpack-plugin.7048bb77.png" alt="html-webpack-plugin"></p><h3 id="mini-css-extract-plugin" tabindex="-1"><a class="header-anchor" href="#mini-css-extract-plugin" aria-hidden="true">#</a> mini-css-extract-plugin</h3><p>This plugin extract CSS into separate files. It creates a CSS file per JS file which contains CSS. It supports On-Demand-Loading of CSS and SourceMaps;</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;mini-css-extract-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:8].css&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">//文件名  default: [name].css</span></span>
<span class="line"><span style="color:#F8F8F2;">    chunkFilename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:4].css&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// determines the name of non-entry chunks files</span></span>
<span class="line"><span style="color:#F8F8F2;">    attributes: { </span></span>
<span class="line"><span style="color:#88846F;">//if defined, mini-css-extract-plugin will attach given attributes </span></span>
<span class="line"><span style="color:#88846F;">//with their values on &lt;link&gt; element.It only applied to dynamically loaded css chunks</span></span>
<span class="line"><span style="color:#F8F8F2;">      id: </span><span style="color:#E6DB74;">&#39;hello&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;data-target&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;hello&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    insert: </span><span style="color:#E6DB74;">&#39;head&#39;</span><span style="color:#F8F8F2;">,</span><span style="color:#88846F;">// string / function</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    inserts the link tag at the given position for non-initial css chunks.</span></span>
<span class="line"><span style="color:#88846F;">    */</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F8F8F2;">    linkType: </span><span style="color:#E6DB74;">&#39;text/css&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// boolean (false disables the link type attribute)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">/*</span></span>
<span class="line"><span style="color:#88846F;">    This option allows loading asynchronous chunks with a custom link type.</span></span>
<span class="line"><span style="color:#88846F;">    */</span></span>
<span class="line"><span style="color:#F8F8F2;">    ignoreOrder: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">// Enable to remove warnings about conflicting order</span></span>
<span class="line"><span style="color:#F8F8F2;">  })],</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [MiniCssExtractPlugin.loader, </span><span style="color:#E6DB74;">&quot;css-loader&quot;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> button </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> document.</span><span style="color:#A6E22E;">createElement</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;button&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">button.textContent </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;点击&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">button.</span><span style="color:#A6E22E;">addEventListener</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;click&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;">() {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;./print.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">d</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">    d.</span><span style="color:#A6E22E;">default</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  })</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// print.js</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./css/print.css&#39;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">function</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">message</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">  console.</span><span style="color:#A6E22E;">log</span><span style="color:#F8F8F2;">(message)</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下图是在点击按钮时 异步加载print.js文件 以及 在print.js中引入的css。</p><p><img src="/assets/lazy-load.c8bf2c39.png" alt="extract-plugin"></p><p><img src="/assets/mini-css.9ada6abd.png" alt="mini-css"></p><p><strong>Loader 选项</strong></p><p>publicPath: Specifies a custom public path for the external resources like images, files, Works like output.publicPath</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;mini-css-extract-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [{</span></span>
<span class="line"><span style="color:#F8F8F2;">          loader: MiniCssExtractPlugin.loader,</span></span>
<span class="line"><span style="color:#F8F8F2;">          options: {</span></span>
<span class="line"><span style="color:#F8F8F2;">            publicPath: </span><span style="color:#E6DB74;">&#39;/assets/&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins:[</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">()]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="minimizing-for-production" tabindex="-1"><a class="header-anchor" href="#minimizing-for-production" aria-hidden="true">#</a> Minimizing For Production</h4><p>To minify the output, use a plugin like css-minimizer-webpack-plugin</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;mini-css-extract-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CssMinimizerPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;css-minimizer-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: []</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash:8].css&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunkFilename: </span><span style="color:#E6DB74;">&#39;[name].css&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimize: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 开发环境压缩css代码</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CssMinimizerPlugin</span><span style="color:#F8F8F2;">()</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上配置在 mode 为 production时 会压缩css. 如果想在开发环境下也压缩, 可以设置optimization.minimize 为true</p><h4 id="extracting-all-css-in-a-single-file" tabindex="-1"><a class="header-anchor" href="#extracting-all-css-in-a-single-file" aria-hidden="true">#</a> Extracting all CSS in a single file</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    splitChunks: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      cacheGroups: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        styles: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          name: </span><span style="color:#E6DB74;">&#39;styles&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          type: </span><span style="color:#E6DB74;">&#39;css/mini-extract&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          chunks: </span><span style="color:#E6DB74;">&#39;all&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          enforce: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="css-minimizer-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#css-minimizer-webpack-plugin" aria-hidden="true">#</a> css-minimizer-webpack-plugin</h3><p>这个插件使用cssnano优化和压缩css.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;mini-css-extract-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CssMinimizerPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;css-minimizer-webpack-plugin&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">.</span><span style="color:#E6DB74;">s</span><span style="color:#F92672;">?</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [MiniCssExtractPlugin.loader, </span><span style="color:#E6DB74;">&quot;css-loader&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;sass-loader&quot;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">      },</span></span>
<span class="line"><span style="color:#F8F8F2;">    ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#88846F;">/*This will enable CSS optimization only in production mode</span></span>
<span class="line"><span style="color:#88846F;">  If you want to run it also in development set the optimization.minimize </span></span>
<span class="line"><span style="color:#88846F;">  option to true</span></span>
<span class="line"><span style="color:#88846F;">*/</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CssMinimizerPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;">/</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css(</span><span style="color:#AE81FF;">\?.</span><span style="color:#F92672;">*</span><span style="color:#E6DB74;">)</span><span style="color:#F92672;">?$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// test to match files against</span></span>
<span class="line"><span style="color:#F8F8F2;">        include:</span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// files to include</span></span>
<span class="line"><span style="color:#F8F8F2;">        exclude:</span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// files to exclude</span></span>
<span class="line"><span style="color:#F8F8F2;">        parallel: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">//  enable/disable multi-process parallel running.</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">()]</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="copy-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#copy-webpack-plugin" aria-hidden="true">#</a> copy-webpack-plugin</h3><p>Copies individual files or entire directories, which already exist, to the build directory.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CopyPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;copy-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CopyPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">        {</span></span>
<span class="line"><span style="color:#F8F8F2;">          from: </span><span style="color:#E6DB74;">&#39;files&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">          context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      ]</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/copy-plugin.e79e88dd.png" alt="copy-plugin"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">//...</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files/poem.txt&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files/poem.txt&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      priority: </span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      force: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    },{</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files/hello.txt&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files/poem.txt&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      priority: </span><span style="color:#AE81FF;">20</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      force: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>priority</li></ol><p>Allows to specify the priority of copying files with the same destination name,Files for the patterns with higher priority will be copied later.</p><p><img src="/assets/copy-priority.faf2a2cb.png" alt="copy-priority"></p><ol start="2"><li>transform</li></ol><p>Allows to modify the file contents</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CopyPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  patterns: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    {</span></span>
<span class="line"><span style="color:#F8F8F2;">      from: </span><span style="color:#E6DB74;">&#39;files&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      to: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist/files&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      context: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#A6E22E;">transform</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">context</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> context.</span><span style="color:#A6E22E;">toString</span><span style="color:#F8F8F2;">() </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;12345&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/copy-transform.7b3d3432.png" alt="copy-transform"></p><ol start="3"><li>concurrency</li></ol><p>limits the number of simultaneous requests to fs</p><h3 id="terser-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#terser-webpack-plugin" aria-hidden="true">#</a> terser-webpack-plugin</h3><p>如果使用webpack v5或者更高版本, 同时希望自定义配置, 那么仍需安装此插件。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimize: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer: [</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">TerserPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">js(</span><span style="color:#AE81FF;">\?.</span><span style="color:#F92672;">*</span><span style="color:#E6DB74;">)</span><span style="color:#F92672;">?$</span><span style="color:#E6DB74;">/</span><span style="color:#F92672;">i</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      include: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 匹配参与压缩的文件</span></span>
<span class="line"><span style="color:#F8F8F2;">      exclude: </span><span style="color:#AE81FF;">undefined</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// [/node_modules/] 排除</span></span>
<span class="line"><span style="color:#F8F8F2;">      extractComments: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 是否将注释玻璃到单独的文件中. *.LICENSE.txt</span></span>
<span class="line"><span style="color:#F8F8F2;">      terserOptions: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        format: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          comments: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;"> </span><span style="color:#88846F;">// 删除所有注释</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    })],</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="environmentplugin" tabindex="-1"><a class="header-anchor" href="#environmentplugin" aria-hidden="true">#</a> EnvironmentPlugin</h3><p>The EnvironmentPlugin is shorthand for using the DefinePlugin on p<wbr>rocess.env keys.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.</span><span style="color:#A6E22E;">EnvironmentPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      NODE_ENV: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// using development</span></span>
<span class="line"><span style="color:#F8F8F2;">      DEBUG: </span><span style="color:#AE81FF;">true</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// not specifying the environment variable raises an &#39;EnvironmentPlugin.${key}&#39;, </span></span>
<span class="line"><span style="color:#88846F;">// environment variable is undefined error.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="limitchunkcountplugin" tabindex="-1"><a class="header-anchor" href="#limitchunkcountplugin" aria-hidden="true">#</a> LimitChunkCountPlugin</h3><p>While writing your code, you may have already added many code split points to load stuff on demand.After compiling you might notice that some chunks are too small - creating larget HTTP overhead. LimitChunkCountPlugin can post-process your chunks by merging them.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// index.js</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print1&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print.ts&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world1&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print2&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print2.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world2&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#88846F;">// ....</span></span>
<span class="line"><span style="color:#A6E22E;">import</span><span style="color:#F8F8F2;">(</span><span style="color:#88846F;">/*webpackChunkName: &#39;print10&#39;*/</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./typescript/print10.js&#39;</span><span style="color:#F8F8F2;">).</span><span style="color:#A6E22E;">then</span><span style="color:#F8F8F2;">(({</span><span style="color:#FD971F;font-style:italic;">print</span><span style="color:#F8F8F2;">}) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world10&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"><span style="color:#88846F;">// 在入口文件 点击按钮时 异步加载10个 js文件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> webpack </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;webpack&#39;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins: [</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.optimize.</span><span style="color:#A6E22E;">LimitChunkCountPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      maxChunks: </span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    }),</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在没有配置 new webpack.optimize.LimigChunkCountPlugin时 network面板是这样的</p><p><img src="/assets/chunk-count-1.55698f6a.png" alt="chunk-count"></p><p>而在配置了限制生成chunk数量时, 点击按钮加载的js文件是下面这样的, 加上主入口chunk, 一共5个</p><p><img src="/assets/chunk-count-2.68119d50.png" alt="chunk-count"></p><h3 id="minchunksizeplugin" tabindex="-1"><a class="header-anchor" href="#minchunksizeplugin" aria-hidden="true">#</a> MinChunkSizePlugin</h3><p>Keep chunk size above the specified limit by merging chunks that are smaller than the minChunkSize.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> webpack.optimize.</span><span style="color:#A6E22E;">MinChunkSizePlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">  minChunkSize: </span><span style="color:#AE81FF;">10000</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// Minimum number of characters</span></span>
<span class="line"><span style="color:#F8F8F2;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="resolve" tabindex="-1"><a class="header-anchor" href="#resolve" aria-hidden="true">#</a> Resolve</h2><p>这些选项能够设置模块如何被解析。</p><ol><li>alias</li></ol><p>创建 import 或者 require 的别名, 来确保模块引入变得更简单</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> path </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;path&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  resolve: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    alias: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;@&#39;</span><span style="color:#F8F8F2;">: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>resolve.enforceExtension</li></ol><p>如果是true, 将不允许无扩展名文件, 默认false</p><ol start="3"><li>extensions</li></ol><p>尝试按顺序解析这些后缀名。如果有多个文件有相同的名字，但后缀名不同，webpack 会解析列在数组首位的后缀的文件 并跳过其余的后缀。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  resolve: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    extensions: [</span><span style="color:#E6DB74;">&#39;.js&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;.jsx&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;.ts&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">    mainFiles: [</span><span style="color:#E6DB74;">&#39;index&#39;</span><span style="color:#F8F8F2;">],  </span><span style="color:#88846F;">// 解析目录时要使用的文件名</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// webpack解析模块时 应该搜索的目录</span></span>
<span class="line"><span style="color:#F8F8F2;">    modules: [path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src&#39;</span><span style="color:#F8F8F2;">), </span><span style="color:#E6DB74;">&#39;node_modules&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>能够是用户在引入模块时不带扩展</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> { print } </span><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> </span><span style="color:#E6DB74;">&#39;./print&#39;</span></span>
<span class="line"><span style="color:#A6E22E;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;hello world&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="devserver" tabindex="-1"><a class="header-anchor" href="#devserver" aria-hidden="true">#</a> DevServer</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.config.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  devServer: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    allowHosts: [ </span><span style="color:#88846F;">// 允许访问开发服务器的白名单</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;host.com&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    ],</span></span>
<span class="line"><span style="color:#F8F8F2;">    client: { </span><span style="color:#88846F;">// 出现编译错误或者警告时, 在浏览器中显示全屏覆盖</span></span>
<span class="line"><span style="color:#F8F8F2;">      overlay: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      progress: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">//在浏览器中以百分比显示编译进度</span></span>
<span class="line"><span style="color:#F8F8F2;">      reconnect: </span><span style="color:#AE81FF;">false</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 应该尝试重新连接客户端的次数</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    compress: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 启用gzip 压缩</span></span>
<span class="line"><span style="color:#F8F8F2;">    historyApiFallback: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// When using the HTML5 History API, the index.html page will likely have to be</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// served in place of any 404 responses.</span></span>
<span class="line"><span style="color:#F8F8F2;">    host: </span><span style="color:#E6DB74;">&#39;0.0.0.0&#39;</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 主机</span></span>
<span class="line"><span style="color:#F8F8F2;">    hot: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">, </span><span style="color:#88846F;">// 启用热模块替换</span></span>
<span class="line"><span style="color:#F8F8F2;">    open: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 在服务器启动后打开浏览器</span></span>
<span class="line"><span style="color:#F8F8F2;">    port: </span><span style="color:#AE81FF;">8080</span><span style="color:#F8F8F2;">,  </span><span style="color:#88846F;">// 服务启动的端口</span></span>
<span class="line"><span style="color:#F8F8F2;">    proxy: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// &#39;/api&#39;: &#39;http://example.com&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// 如果需要重写路径</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#E6DB74;">&#39;/api&#39;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        target: </span><span style="color:#E6DB74;">&#39;http://example.com&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        pathRewrite: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          </span><span style="color:#E6DB74;">&#39;^/api&#39;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    proxy: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        context: [</span><span style="color:#E6DB74;">&#39;/api&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;/auth&#39;</span><span style="color:#F8F8F2;">],</span></span>
<span class="line"><span style="color:#F8F8F2;">        target: </span><span style="color:#E6DB74;">&#39;http://example.com&#39;</span><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// 将多个特定路径代理到同一个目标</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ],</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#88846F;">// 提供自定义函数和中间件能力</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#A6E22E;">setupMiddlewares</span><span style="color:#F8F8F2;">: (</span><span style="color:#FD971F;font-style:italic;">middleware</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">devServer</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#88846F;">// js文件可以 通过请求这个接口 获取数据</span></span>
<span class="line"><span style="color:#F8F8F2;">      devServer.app.</span><span style="color:#A6E22E;">get</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;/api/players&#39;</span><span style="color:#F8F8F2;">, (</span><span style="color:#FD971F;font-style:italic;">_</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">response</span><span style="color:#F8F8F2;">) </span><span style="color:#66D9EF;font-style:italic;">=&gt;</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">        response.</span><span style="color:#A6E22E;">send</span><span style="color:#F8F8F2;">([</span></span>
<span class="line"><span style="color:#F8F8F2;">          {</span></span>
<span class="line"><span style="color:#F8F8F2;">            firstName: </span><span style="color:#E6DB74;">&#39;kyrie&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">            lastName: </span><span style="color:#E6DB74;">&#39;irving&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">          }</span></span>
<span class="line"><span style="color:#F8F8F2;">        ])</span></span>
<span class="line"><span style="color:#F8F8F2;">      })</span></span>
<span class="line"><span style="color:#F8F8F2;">      </span><span style="color:#F92672;">return</span><span style="color:#F8F8F2;"> middlewares</span></span>
<span class="line"><span style="color:#F8F8F2;">    },</span></span>
<span class="line"><span style="color:#F8F8F2;">    static: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;">// 从目录提供静态文件</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开发环境和生产环境" tabindex="-1"><a class="header-anchor" href="#开发环境和生产环境" aria-hidden="true">#</a> 开发环境和生产环境</h2><p>开发环境和生产环境下的构建目标不同, 可以将某些在production和development环境下的通用配置提取出来, 然后分别为不同环境下写彼此独立的webpack配置. 使用webpack-merge工具 将不同环境下的配置合并。</p><p>以下配置是针对上述知识点做的一个demo</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// webpack.common.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> path </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;path&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> HtmlWebpackPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;html-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F8F8F2;">  entry: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    app: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;src/index.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    clean: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    path: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">(png</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">webp</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">jpeg</span><span style="color:#F92672;">|</span><span style="color:#E6DB74;">jpg)</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        type: </span><span style="color:#E6DB74;">&#39;asset/resource&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins:[</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">HtmlWebpackPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      title: </span><span style="color:#E6DB74;">&#39;webpack-merge&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ]</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.development.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> { merge } </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;webpack-merge&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> common </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;./webpack.common.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> path </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;path&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">merge</span><span style="color:#F8F8F2;">(common, {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;development&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  devtool: </span><span style="color:#E6DB74;">&#39;inline-source-map&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].bundle.js&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  devServer: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    port: </span><span style="color:#E6DB74;">&#39;9008&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    host: </span><span style="color:#E6DB74;">&#39;0.0.0.0&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    static: path.</span><span style="color:#A6E22E;">resolve</span><span style="color:#F8F8F2;">(__dirname, </span><span style="color:#E6DB74;">&#39;dist&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use:[</span><span style="color:#E6DB74;">&#39;style-loader&#39;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">// webpack.production.js</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> { merge } </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;webpack-merge&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> common </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;./webpack.common.js&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> MiniCssExtractPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;mini-css-extract-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">const</span><span style="color:#F8F8F2;"> CssMinimizerPlugin </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#66D9EF;">require</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&#39;css-minimizer-webpack-plugin&#39;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">module</span><span style="color:#F8F8F2;">.</span><span style="color:#66D9EF;font-style:italic;">exports</span><span style="color:#F8F8F2;"> </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">merge</span><span style="color:#F8F8F2;">(common, {</span></span>
<span class="line"><span style="color:#F8F8F2;">  mode: </span><span style="color:#E6DB74;">&#39;production&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">  output: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash].js&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  module: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    rules: [</span></span>
<span class="line"><span style="color:#F8F8F2;">      {</span></span>
<span class="line"><span style="color:#F8F8F2;">        test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">\.</span><span style="color:#E6DB74;">css</span><span style="color:#F92672;">$</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">        use: [MiniCssExtractPlugin.loader, </span><span style="color:#E6DB74;">&#39;css-loader&#39;</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    ]</span></span>
<span class="line"><span style="color:#F8F8F2;">  },</span></span>
<span class="line"><span style="color:#F8F8F2;">  plugins:[</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">MiniCssExtractPlugin</span><span style="color:#F8F8F2;">({</span></span>
<span class="line"><span style="color:#F8F8F2;">      filename: </span><span style="color:#E6DB74;">&#39;[name].[contenthash].css&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">      chunkFilename: </span><span style="color:#E6DB74;">&#39;[name].css&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    })</span></span>
<span class="line"><span style="color:#F8F8F2;">  ],</span></span>
<span class="line"><span style="color:#F8F8F2;">  optimization: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    runtimeChunk: </span><span style="color:#E6DB74;">&#39;single&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    usedExports: </span><span style="color:#AE81FF;">true</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    minimizer:[</span><span style="color:#F92672;">new</span><span style="color:#F8F8F2;"> </span><span style="color:#A6E22E;">CssMinimizerPlugin</span><span style="color:#F8F8F2;">()],</span></span>
<span class="line"><span style="color:#F8F8F2;">    splitChunks: {</span></span>
<span class="line"><span style="color:#F8F8F2;">      cacheGroups: {</span></span>
<span class="line"><span style="color:#F8F8F2;">        vendor: {</span></span>
<span class="line"><span style="color:#F8F8F2;">          test:</span><span style="color:#E6DB74;"> /</span><span style="color:#AE81FF;">[\\/]</span><span style="color:#E6DB74;">node_modules</span><span style="color:#AE81FF;">[\\/]</span><span style="color:#E6DB74;">/</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          name: </span><span style="color:#E6DB74;">&#39;vendors&#39;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">          chunks: </span><span style="color:#E6DB74;">&#39;all&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">      }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#272822;"><code><span class="line"><span style="color:#88846F;">// package.json</span></span>
<span class="line"><span style="color:#F8F8F2;">{</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#88846F;">// ...</span></span>
<span class="line"><span style="color:#F8F8F2;">  </span><span style="color:#E6DB74;">&quot;scripts&quot;</span><span style="color:#F8F8F2;">: {</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#E6DB74;">&quot;serve&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;webpack serve --config webpack.development.js&quot;</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span><span style="color:#E6DB74;">&quot;build&quot;</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&quot;webpack --config webpack.production.js&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">  }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/vue/pinia.html" class="" aria-label="Pinia"><!--[--><!--]--> Pinia <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.a286d625.js" defer></script>
  </body>
</html>
